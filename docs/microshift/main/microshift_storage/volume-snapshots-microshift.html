

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>Working with volume snapshots | Storage | Red Hat build of MicroShift Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.okd.io/latest/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      
      <span>
        <div class="alert alert-info" role="primary" id="support-info">
          <strong>Starting on March 12, 2025, OpenShift docs will only be available at <a href="https://docs.redhat.com/en/" style="color: #0C5460 !important" class="link-primary">docs.redhat.com</a>. From that time on, docs.openshift.com links will automatically redirect to their locations on docs.redhat.com.
          </strong>
        </div>
      </span>
      

      

      

      

      

      

      

      
      

      

      


      

      


      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          <a href="../microshift_welcome/index.html">Red Hat build of MicroShift Branch Build</a>
        
      </li>
      <li class="hidden-xs active">
        <a href="../microshift_storage/index.html">Storage</a>
      </li>
      
      
      <li class="hidden-xs active">
        Working with volume snapshots
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/main/microshift_storage/volume-snapshots-microshift.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12332330&issuetype=1&components=12367614&priority=4&summary=[microshift-Branch Build]+Issue+in+file+microshift_storage/volume-snapshots-microshift.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-right"></span>Understanding MicroShift</a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_welcome/index.html">Understanding Red Hat build of MicroShift</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1"><span id="tgSpan1" class="fa fa-angle-right"></span>Red Hat build of MicroShift release notes</a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_release_notes/microshift-4-19-release-notes.html">Red Hat build of MicroShift 4.19 release notes</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2"><span id="tgSpan2" class="fa fa-angle-right"></span>Getting ready to install MicroShift</a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_get_ready/microshift-install-get-ready.html">Getting ready to install MicroShift</a></li>
            <li><a class="" href="../microshift_install_get_ready/microshift-fips.html">Using FIPS mode</a></li>
            <li><a class="" href="../microshift_install_get_ready/microshift-greenboot.html">Understanding system health checks</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3"><span id="tgSpan3" class="fa fa-angle-right"></span>Installing with an RPM package</a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm/microshift-install-rpm.html">Installing with an RPM package</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4"><span id="tgSpan4" class="fa fa-angle-right"></span>Installing optional RPM packages</a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm_opt/microshift-install-optional-rpms.html">Installing optional RPM packages</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5"><span id="tgSpan5" class="fa fa-angle-right"></span>Embedding in a RHEL for Edge image</a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.html">Embedding in a RHEL for Edge image using image builder</a></li>
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-deploy-with-mirror-registry.html">Mirroring container images for disconnected installations</a></li>
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree-offline-use.html">Embedding in a RHEL for Edge image for offline use</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6"><span id="tgSpan6" class="fa fa-angle-right"></span>Installing with RHEL image mode</a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_bootc/microshift-about-rhel-image-mode.html">Understanding image mode for RHEL</a></li>
            <li><a class="" href="../microshift_install_bootc/microshift-install-bootc-image.html">Installing a bootc image</a></li>
            <li><a class="" href="../microshift_install_bootc/microshift-install-running-bootc-image-vm.html">Running the bootc image</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7"><span id="tgSpan7" class="fa fa-angle-right"></span>Using RHEL Kickstarts</a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_kickstarts/microshift-rhel-kickstarts.html">Using a Kickstart file for automating installation</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8"><span id="tgSpan8" class="fa fa-angle-right"></span>Updating</a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_updating/microshift-update-options.html">Update options</a></li>
            <li><a class="" href="../microshift_updating/microshift-update-rpms-ostree.html">Updates with rpm-ostree systems</a></li>
            <li><a class="" href="../microshift_updating/microshift-update-rpms-manually.html">Manual updates with RPMs</a></li>
            <li><a class="" href="../microshift_updating/microshift-list-update-contents.html">Listing update package contents</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9"><span id="tgSpan9" class="fa fa-angle-right"></span>Support</a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_support/microshift-etcd.html">The etcd service</a></li>
            <li><a class="" href="../microshift_support/microshift-sos-report.html">The sos report tool</a></li>
            <li><a class="" href="../microshift_support/microshift-getting-cluster-id.html">Getting your cluster ID</a></li>
            <li><a class="" href="../microshift_support/microshift-getting-support.html">Getting support</a></li>
            <li><a class="" href="../microshift_support/microshift-remote-cluster-monitoring.html">Remote health monitoring with a connected cluster</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10"><span id="tgSpan10" class="fa fa-angle-right"></span>Configuring</a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_configuring/microshift-using-config-yaml.html">Using the MicroShift configuration file</a></li>
            <li><a class="" href="../microshift_configuring/microshift-nw-ipv6-config.html">Configuring IPv6 networking</a></li>
            <li><a class="" href="../microshift_configuring/microshift-ingress-controller.html">Using ingress control for a MicroShift cluster</a></li>
            <li><a class="" href="../microshift_configuring/microshift-disable-lvms-csi-provider-csi-snapshot.html">Disabling LVMS CSI provider and CSI snapshot</a></li>
            <li><a class="" href="../microshift_configuring/microshift-greenboot-checking-status.html">Checking the status of Greenboot health checks</a></li>
            <li><a class="" href="../microshift_configuring/microshift-cluster-access-kubeconfig.html">Cluster access with kubeconfig</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-6"><span id="sgSpan-10-6" class="fa fa-caret-right"></span>&nbsp;Configuring MicroShift authentication and security</a>
              <ul id="topicSubGroup-10-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-custom-ca.html">Using custom certificate authorities</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-tls-config.html">Configuring TLS security profiles</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-audit-logs-config.html">Configuring audit logging policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-7"><span id="sgSpan-10-7" class="fa fa-caret-right"></span>&nbsp;Configuring low latency</a>
              <ul id="topicSubGroup-10-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_configuring/microshift_low_latency/microshift-low-latency.html">Configuring low latency</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_low_latency/microshift-workload-partitioning.html">Workload partitioning</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11"><span id="tgSpan11" class="fa fa-angle-right"></span>Networking</a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_networking/microshift-cni.html">About the networking plugin</a></li>
            <li><a class="" href="../microshift_networking/microshift-networking-settings.html">Using networking settings</a></li>
            <li><a class="" href="../microshift_networking/microshift-nw-router.html">Configuring the router</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-3"><span id="sgSpan-11-3" class="fa fa-caret-right"></span>&nbsp;Network policies</a>
              <ul id="topicSubGroup-11-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-network-policy-index.html">About network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-creating-network-policy.html">Creating network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-editing-network-policy.html">Editing network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-deleting-network-policy.html">Deleting network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-viewing-network-policy.html">Viewing network policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-4"><span id="sgSpan-11-4" class="fa fa-caret-right"></span>&nbsp;Multiple networks</a>
              <ul id="topicSubGroup-11-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_networking/microshift_multiple_networks/microshift-cni-multus.html">About using multiple networks</a></li>
                  <li><a class="" href="../microshift_networking/microshift_multiple_networks/microshift-cni-multus-using.html">Configuring and using multiple networks</a></li>              </ul>
            </li>
            <li><a class="" href="../microshift_networking/microshift-configuring-routes.html">Configuring routes</a></li>
            <li><a class="" href="../microshift_networking/microshift-firewall.html">Firewall configuration</a></li>
            <li><a class="" href="../microshift_networking/microshift-disconnected-network-config.html">Networking settings for fully disconnected hosts</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12"><span id="tgSpan12" class="fa fa-angle-down"></span>Storage</a>
      <ul id="topicGroup12" class="collapse in list-unstyled">
            <li><a class="" href="../microshift_storage/index.html">About storage</a></li>
            <li><a class="" href="../microshift_storage/understanding-ephemeral-storage-microshift.html">Understanding ephemeral storage</a></li>
            <li><a class="" href="../microshift_storage/generic-ephemeral-volumes-microshift.html">Generic ephemeral volumes</a></li>
            <li><a class="" href="../microshift_storage/understanding-persistent-storage-microshift.html">Understanding persistent storage</a></li>
            <li><a class="" href="../microshift_storage/expanding-persistent-volumes-microshift.html">Expanding persistent volumes</a></li>
            <li><a class="" href="../microshift_storage/microshift-storage-plugin-overview.html">Dynamic storage using the LVMS plugin</a></li>
            <li><a class=" active" href="../microshift_storage/volume-snapshots-microshift.html">Working with volume snapshots</a></li>
            <li><a class="" href="../microshift_storage/microshift-storage-migration.html">Understanding storage migration</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13"><span id="tgSpan13" class="fa fa-angle-right"></span>Running applications</a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_running_apps/microshift-applications.html">Using Kustomize to deploy applications</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-deleting-resource-manifests.html">Deleting or updating Kustomize manifest resources</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embedded-apps-on-rhel-edge.html">Embedding applications on RHEL for Edge</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embed-apps-offline-use.html">Embedding applications for offline use</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embedding-apps-tutorial.html">Embedding applications tutorial</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-greenboot-workload-scripts.html">Creating application or workload health check scripts</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-gitops.html">Automating application management with GitOps</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-authentication.html">Pod security authentication and authorization</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-8"><span id="sgSpan-13-8" class="fa fa-caret-right"></span>&nbsp;Operators</a>
              <ul id="topicSubGroup-13-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators.html">Using Operators</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-olm.html">Using Operator Lifecycle Manager</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-oc-mirror.html">Creating custom catalogs with oc-mirror</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-oc-mirror-disconnected.html">Adding OLM-based Operators to a disconnected cluster</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14"><span id="tgSpan14" class="fa fa-angle-right"></span>Backup and restore</a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_backup_and_restore/microshift-backup-and-restore.html">Backing up and restoring data</a></li>
            <li><a class="" href="../microshift_backup_and_restore/microshift-auto-recover-manual-backup.html">Automated recovery from manual backups</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup15"><span id="tgSpan15" class="fa fa-angle-right"></span>Troubleshooting</a>
      <ul id="topicGroup15" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_troubleshooting/microshift-version.html">Check your version</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-cluster.html">Troubleshoot the cluster</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-installing-troubleshooting.html">Troubleshoot installation issues</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-backup-restore.html">Troubleshoot backup and restore</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-updates.html">Troubleshoot updates</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-audit-logs.html">Check the audit logs</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-etcd-troubleshoot.html">Troubleshoot etcd</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-things-to-know.html">Additional information</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-cleanup-data.html">Data cleanup</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup16"><span id="tgSpan16" class="fa fa-angle-right"></span>CLI tools</a>
      <ul id="topicGroup16" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_cli_ref/microshift-cli-tools-introduction.html">CLI tools introduction</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-cli-install.html">Installing the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-config.html">Configuring the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-cli-using-oc.html">Using the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-usage-oc-kubectl.html">Using oc and kubectl</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-cli-commands-list.html">List of oc CLI commands</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup17"><span id="tgSpan17" class="fa fa-angle-right"></span>API reference</a>
      <ul id="topicGroup17" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_rest_api/understanding-api-support-tiers.html">Understanding API tiers</a></li>
            <li><a class="" href="../microshift_rest_api/understanding-compatibility-guidelines.html">API compatibility guidelines</a></li>
            <li><a class="" href="../microshift_rest_api/index.html">API index</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-3"><span id="sgSpan-17-3" class="fa fa-caret-right"></span>&nbsp;API object reference</a>
              <ul id="topicSubGroup-17-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/objects/index.html">API objects reference</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-4"><span id="sgSpan-17-4" class="fa fa-caret-right"></span>&nbsp;Extension APIs</a>
              <ul id="topicSubGroup-17-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/api_extensions_apis/api-extensions-apis-index.html">Extension APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/api_extensions_apis/customresourcedefinition-apiextensions-k8s-io-v1.html">CustomResourceDefinition [apiextensions.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-5"><span id="sgSpan-17-5" class="fa fa-caret-right"></span>&nbsp;Registration APIs</a>
              <ul id="topicSubGroup-17-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/api_registration_apis/api-registration-apis-index.html">Registration APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/api_registration_apis/apiservice-apiregistration-k8s-io-v1.html">APIService [apiregistration.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-6"><span id="sgSpan-17-6" class="fa fa-caret-right"></span>&nbsp;Apps APIs</a>
              <ul id="topicSubGroup-17-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/apps_apis/apps-apis-index.html">Apps APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/controllerrevision-apps-v1.html">ControllerRevision [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/daemonset-apps-v1.html">DaemonSet [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/deployment-apps-v1.html">Deployment [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/replicaset-apps-v1.html">ReplicaSet [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/statefulset-apps-v1.html">StatefulSet [apps/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-7"><span id="sgSpan-17-7" class="fa fa-caret-right"></span>&nbsp;Authentication APIs</a>
              <ul id="topicSubGroup-17-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/authentication_apis/authentication-apis-index.html">Authentication APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/authentication_apis/tokenrequest-authentication-k8s-io-v1.html">TokenRequest [authentication.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authentication_apis/tokenreview-authentication-k8s-io-v1.html">TokenReview [authentication.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-8"><span id="sgSpan-17-8" class="fa fa-caret-right"></span>&nbsp;Authorization APIs</a>
              <ul id="topicSubGroup-17-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/authorization_apis/authorization-apis-index.html">Authorization APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/localsubjectaccessreview-authorization-k8s-io-v1.html">LocalSubjectAccessReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/selfsubjectaccessreview-authorization-k8s-io-v1.html">SelfSubjectAccessReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/selfsubjectrulesreview-authorization-k8s-io-v1.html">SelfSubjectRulesReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/subjectaccessreview-authorization-k8s-io-v1.html">SubjectAccessReview [authorization.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-9"><span id="sgSpan-17-9" class="fa fa-caret-right"></span>&nbsp;Autoscaling APIs</a>
              <ul id="topicSubGroup-17-9" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/autoscaling-apis-index.html">Autoscaling APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/horizontalpodautoscaler-autoscaling-v2.html">HorizontalPodAutoscaler [autoscaling/v2]</a></li>
                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/scale-autoscaling-v1.html">Scale [autoscaling/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-10"><span id="sgSpan-17-10" class="fa fa-caret-right"></span>&nbsp;Batch APIs</a>
              <ul id="topicSubGroup-17-10" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/batch_apis/batch-apis-index.html">Batch APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/batch_apis/cronjob-batch-v1.html">CronJob [batch/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/batch_apis/job-batch-v1.html">Job [batch/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-11"><span id="sgSpan-17-11" class="fa fa-caret-right"></span>&nbsp;Certificates APIs</a>
              <ul id="topicSubGroup-17-11" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/certificates_apis/certificates-apis-index.html">Certificates APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/certificates_apis/certificatesigningrequest-certificates-k8s-io-v1.html">CertificateSigningRequest [certificates.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-12"><span id="sgSpan-17-12" class="fa fa-caret-right"></span>&nbsp;Coordination APIs</a>
              <ul id="topicSubGroup-17-12" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/coordination_apis/coordination-apis-index.html">Coordination APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/coordination_apis/lease-coordination-k8s-io-v1.html">Lease [coordination.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-13"><span id="sgSpan-17-13" class="fa fa-caret-right"></span>&nbsp;Core APIs</a>
              <ul id="topicSubGroup-17-13" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/core_apis/core-apis-index.html">Core APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/binding-v1.html">Binding [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/componentstatus-v1.html">ComponentStatus [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/configmap-v1.html">ConfigMap [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/endpoints-v1.html">Endpoints [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/event-v1.html">Event [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/limitrange-v1.html">LimitRange [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/namespace-v1.html">Namespace [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/node-v1.html">Node [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/persistentvolume-v1.html">PersistentVolume [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/persistentvolumeclaim-v1.html">PersistentVolumeClaim [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/pod-v1.html">Pod [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/podtemplate-v1.html">PodTemplate [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/replicationcontroller-v1.html">ReplicationController [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/resourcequota-v1.html">ResourceQuota [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/secret-v1.html">Secret [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/service-v1.html">Service [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/serviceaccount-v1.html">ServiceAccount [v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-14"><span id="sgSpan-17-14" class="fa fa-caret-right"></span>&nbsp;Discovery APIs</a>
              <ul id="topicSubGroup-17-14" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/discovery_apis/discovery-apis-index.html">Discovery APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/discovery_apis/endpointslice-discovery-k8s-io-v1.html">EndpointSlice [discovery.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-15"><span id="sgSpan-17-15" class="fa fa-caret-right"></span>&nbsp;Events APIs</a>
              <ul id="topicSubGroup-17-15" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/events_apis/events-apis-index.html">Events APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/events_apis/event-events-k8s-io-v1.html">Event [events.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-16"><span id="sgSpan-17-16" class="fa fa-caret-right"></span>&nbsp;Flow Control APIs</a>
              <ul id="topicSubGroup-17-16" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/flow_control_apis/flow-control-apis-index.html">Flow Control APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/flow_control_apis/flowschema-flowcontrol-apiserver-k8s-io-v1beta3.html">FlowSchema [flowcontrol.apiserver.k8s.io/v1beta3]</a></li>
                  <li><a class="" href="../microshift_rest_api/flow_control_apis/prioritylevelconfiguration-flowcontrol-apiserver-k8s-io-v1beta3.html">PriorityLevelConfiguration [flowcontrol.apiserver.k8s.io/v1beta3]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-17"><span id="sgSpan-17-17" class="fa fa-caret-right"></span>&nbsp;Networking APIs</a>
              <ul id="topicSubGroup-17-17" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/networking_apis/networking-apis-index.html">Networking APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/ingress-networking-k8s-io-v1.html">Ingress [networking.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/ingressclass-networking-k8s-io-v1.html">IngressClass [networking.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/networkpolicy-networking-k8s-io-v1.html">NetworkPolicy [networking.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-18"><span id="sgSpan-17-18" class="fa fa-caret-right"></span>&nbsp;Node APIs</a>
              <ul id="topicSubGroup-17-18" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/node_apis/node-apis-index.html">Node APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/node_apis/runtimeclass-node-k8s-io-v1.html">RuntimeClass [node.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-19"><span id="sgSpan-17-19" class="fa fa-caret-right"></span>&nbsp;Policy APIs</a>
              <ul id="topicSubGroup-17-19" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/policy_apis/policy-apis-index.html">Policy APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/policy_apis/eviction-policy-v1.html">Eviction [policy/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/policy_apis/poddisruptionbudget-policy-v1.html">PodDisruptionBudget [policy/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-20"><span id="sgSpan-17-20" class="fa fa-caret-right"></span>&nbsp;RBAC APIs</a>
              <ul id="topicSubGroup-17-20" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/rbac_apis/rbac-apis-index.html">RBAC APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/clusterrole-rbac-authorization-k8s-io-v1.html">ClusterRole [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/clusterrolebinding-rbac-authorization-k8s-io-v1.html">ClusterRoleBinding [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/role-rbac-authorization-k8s-io-v1.html">Role [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/rolebinding-rbac-authorization-k8s-io-v1.html">RoleBinding [rbac.authorization.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-21"><span id="sgSpan-17-21" class="fa fa-caret-right"></span>&nbsp;Network APIs</a>
              <ul id="topicSubGroup-17-21" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/network_apis/network-apis-index.html">Network APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/network_apis/route-route-openshift-io-v1.html">Route [route.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-22"><span id="sgSpan-17-22" class="fa fa-caret-right"></span>&nbsp;Scheduling APIs</a>
              <ul id="topicSubGroup-17-22" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/scheduling_apis/scheduling-apis-index.html">Scheduling APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/scheduling_apis/priorityclass-scheduling-k8s-io-v1.html">PriorityClass [scheduling.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-23"><span id="sgSpan-17-23" class="fa fa-caret-right"></span>&nbsp;Security APIs</a>
              <ul id="topicSubGroup-17-23" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/security_apis/security-apis-index.html">Security APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/security_apis/securitycontextconstraints-security-openshift-io-v1.html">SecurityContextConstraints [security.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-24"><span id="sgSpan-17-24" class="fa fa-caret-right"></span>&nbsp;Security-Internal APIs</a>
              <ul id="topicSubGroup-17-24" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/security_internal_apis/security-internal-apis-index.html">Security Internal APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/security_internal_apis/rangeallocation-security-internal-openshift-io-v1.html">RangeAllocation [security.internal.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-25"><span id="sgSpan-17-25" class="fa fa-caret-right"></span>&nbsp;Snapshot APIs</a>
              <ul id="topicSubGroup-17-25" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/snapshot_apis/snapshot-apis-index.html">CSI Snapshot APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshot-snapshot-storage-k8s-io-v1.html">VolumeSnapshot [snapshot.storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshotclass-snapshot-storage-k8s-io-v1.html">VolumeSnapshotClass [snapshot.storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshotcontent-snapshot-storage-k8s-io-v1.html">VolumeSnapshotContent [snapshot.storage.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-26"><span id="sgSpan-17-26" class="fa fa-caret-right"></span>&nbsp;Storage APIs</a>
              <ul id="topicSubGroup-17-26" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/storage_apis/storage-apis-index.html">Storage APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csidriver-storage-k8s-io-v1.html">CSIDriver [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csinode-storage-k8s-io-v1.html">CSINode [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csistoragecapacity-storage-k8s-io-v1.html">CSIStorageCapacity [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/storageclass-storage-k8s-io-v1.html">StorageClass [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/volumeattachment-storage-k8s-io-v1.html">VolumeAttachment [storage.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-27"><span id="sgSpan-17-27" class="fa fa-caret-right"></span>&nbsp;Storage Version Migration APIs</a>
              <ul id="topicSubGroup-17-27" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/storage_version_migration_apis/storage-version-migration-apis-index.html">Storage Version Migration APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_version_migration_apis/storageversionmigration-migration-k8s-io-v1alpha1.html">StorageVersionMigration [migration.k8s.io/v1alpha1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-28"><span id="sgSpan-17-28" class="fa fa-caret-right"></span>&nbsp;TopoLVM APIs</a>
              <ul id="topicSubGroup-17-28" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/topolvm_apis/topolvm-apis-index.html">TopoLVM APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/topolvm_apis/logicalvolume-topolvm-io-v1.html">LogicalVolume [topolvm.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-29"><span id="sgSpan-17-29" class="fa fa-caret-right"></span>&nbsp;Webhook APIs</a>
              <ul id="topicSubGroup-17-29" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/webhook_apis/webhook-apis-index.html">Webhook APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/webhook_apis/mutatingwebhookconfiguration-admissionregistration-k8s-io-v1.html">MutatingWebhookConfiguration [admissionregistration.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/webhook_apis/validatingwebhookconfiguration-admissionregistration-k8s-io-v1.html">ValidatingWebhookConfiguration [admissionregistration.k8s.io/v1]</a></li>              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Working with volume snapshots
          </h1>
        </div>
        
        
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#microshift-lvm-thin-volumes_volume-snapshots-microshift">About LVM thin volumes</a>
<ul class="sectlevel2">
<li><a href="#microshift-storage-classes_volume-snapshots-microshift">Storage classes</a></li>
</ul>
</li>
<li><a href="#microshift-volume-snapshot-classes_volume-snapshots-microshift">Volume snapshot classes</a></li>
<li><a href="#about-volume-snapshots_volume-snapshots-microshift">About volume snapshots</a>
<ul class="sectlevel2">
<li><a href="#creating-a-volume-snapshotting_volume-snapshots-microshift">Creating a volume snapshot</a></li>
<li><a href="#microshift-storage-backup-vol-snaps_volume-snapshots-microshift">Backing up a volume snapshot</a></li>
<li><a href="#restoring-vol-snapshot-microshift_volume-snapshots-microshift">Restoring a volume snapshot</a></li>
<li><a href="#persistent-storage-csi-snapshots-delete_volume-snapshots-microshift">Deleting a volume snapshot</a></li>
</ul>
</li>
<li><a href="#microshift-storage-volume-cloning_volume-snapshots-microshift">About LVM volume cloning</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p>Cluster administrators can use volume snapshots to help protect against data loss by using the supported MicroShift logical volume manager storage (LVMS) Container Storage Interface (CSI) provider. Familiarity with <a href="../microshift_storage/understanding-persistent-storage-microshift.html#persistent-volumes_understanding-persistent-storage-microshift">persistent volumes</a> is required.</p>
</div>
<div class="paragraph">
<p>A snapshot represents the state of the storage volume in a cluster at a particular point in time. Volume snapshots can also be used to provision new volumes. Snapshots are created as read-only logical volumes (LVs) located on the same device as the original data.</p>
</div>
<div class="paragraph">
<p>A cluster administrator can complete the following tasks using CSI volume snapshots:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a snapshot of an existing persistent volume claim (PVC).</p>
</li>
<li>
<p>Back up a volume snapshot to a secure location.</p>
</li>
<li>
<p>Restore a volume snapshot as a different PVC.</p>
</li>
<li>
<p>Delete an existing volume snapshot.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Only the logical volume manager storage (LVMS) plugin CSI driver is supported by MicroShift.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../microshift_storage/understanding-persistent-storage-microshift.html#persistent-volumes_understanding-persistent-storage-microshift">Understanding persistent volumes</a></p>
</li>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/managing-lvm-volume-groups_configuring-and-managing-logical-volumes">Managing LVM volume groups</a> (RHEL documentation)</p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.19/html/storage/using-container-storage-interface-csi#persistent-storage-csi-snapshots">CSI snapshots: <code>VolumeSnapshot</code> APIs</a> (OpenShift Container Platform documentation)</p>
</li>
<li>
<p><a href="https://docs.openshift.com/container-platform/4.19/rest_api/storage_apis/volumesnapshot-snapshot-storage-k8s-io-v1.html">VolumeSnapshot API specification</a> (OpenShift Container Platform documentation)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-lvm-thin-volumes_volume-snapshots-microshift"><a class="anchor" href="#microshift-lvm-thin-volumes_volume-snapshots-microshift"></a>About LVM thin volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use advanced storage features such as creating volume snapshots or volume cloning, you must perform the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configure both the logical volume manager storage (LVMS) provider and the cluster.</p>
</li>
<li>
<p>Provision a logical volume manager (LVM) thin-pool on the RHEL for Edge host.</p>
</li>
<li>
<p>Attach LVM thin-pools to a volume group.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To create Container Storage Interface (CSI) snapshots, you must configure thin volumes on the RHEL for Edge host. The CSI does not support volume shrinking.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using thin provisioning, it is important that you monitor the storage pool and add more capacity as the available physical space runs out. You can configure the storage pool to auto expand when there is available space within the volume group (VG). See <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/configuring_and_managing_logical_volumes/index#creating-thinly-provisioned-logical-volumes_creating-and-managing-thin-provisioned-volumes">Creating thinly provisioned logical volumes</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For LVMS to manage thin logical volumes (LVs), a thin-pool <code>device-class</code> array must be specified in the <code>etc/lvmd.yaml</code> configuration file. Multiple thin-pool device classes are permitted.</p>
</div>
<div class="paragraph">
<p>If additional storage pools are configured with device classes, then additional storage classes must also exist to expose the storage pools to users and workloads. To enable dynamic provisioning on a thin-pool, a <code>StorageClass</code> resource must be present on the cluster. The <code>StorageClass</code> resource specifies the source <code>device-class</code> array in the <code>topolvm.io/device-class</code> parameter.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>lvmd.yaml</code> file that specifies a single device class for a thin-pool</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">socket-name</span><span class="pi">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="na">device-classes</span><span class="pi">:</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">thin</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="na">default</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">spare-gb</span><span class="pi">:</span> <span class="s">0</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="na">thin-pool</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">thin</span>
      <span class="na">overprovision-ratio</span><span class="pi">:</span> <span class="s">1</span> <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="na">type</span><span class="pi">:</span> <span class="s">thin</span> <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="na">volume-group</span><span class="pi">:</span> <span class="s">ssd</span> <i class="conum" data-value="7"></i><b>(7)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>String. The UNIX domain socket endpoint of gRPC. Defaults to <code>/run/lvmd/lvmd.socket</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A list of maps for the settings for each <code>device-class</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>String. The unique name of the <code>device-class</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Unsigned 64-bit integer. Storage capacity in GB to be left unallocated in the volume group. Defaults to <code>0</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specify a float factor by which you can provision additional storage based on the available storage in the thin pool. For example, if this field is set to 10, you can provision up to 10 times the amount of available storage in the thin pool. To disable over-provisioning, set this field to <code>1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Thin provisioning is required to create volume snapshots.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>String. The group where the <code>device-class</code> creates the logical volumes.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When multiple PVCs are created simultaneously, a race condition prevents LVMS from accurately tracking the allocated space and preserving the storage capacity for a device class. Use separate volume groups and device classes to protect the storage of highly dynamic workloads from each other.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>To create a thin pool on the host, see <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/basic-logical-volume-management_configuring-and-managing-logical-volumes#creating-thin-logical-volume_creating-logical-volumes">Creating a thin logical volume</a> (RHEL documentation)</p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/creating-and-managing-thin-provisioned-volumes_configuring-and-managing-logical-volumes">Configuring and managing thin provisioned volumes</a></p>
</li>
<li>
<p><a href="../microshift_storage/volume-snapshots-microshift.html#microshift-storage-classes_volume-snapshots-microshift">Storage classes</a></p>
</li>
<li>
<p><a href="../microshift_storage/microshift-storage-plugin-overview.html#microshift-storage-device-classes_microshift-storage-plugin-overview">Storage device classes</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="microshift-storage-classes_volume-snapshots-microshift"><a class="anchor" href="#microshift-storage-classes_volume-snapshots-microshift"></a>Storage classes</h3>
<div class="paragraph">
<p>Storage classes provide the workload layer interface for selecting a device class. The following storage class parameters are supported in MicroShift:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>csi.storage.k8s.io/fstype</code> parameter selects the file system types. Both <code>xfs</code> and <code>ext4</code> file system types are supported.</p>
</li>
<li>
<p>The <code>topolvm.io/device-class</code> parameter is the name of the device class. If a device class is not provided, the default device class is assumed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Multiple storage classes can refer to the same device class. You can provide varying sets of parameters for the same backing device class, such as <code>xfs</code> and <code>ext4</code> variants.</p>
</div>
<div class="listingblock">
<div class="title">Example MicroShift default storage class resource</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">storage.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">StorageClass</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="s">storageclass.kubernetes.io/is-default-class</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="na">name</span><span class="pi">:</span> <span class="s">topolvm-provisioner</span>
<span class="na">parameters</span><span class="pi">:</span>
  <span class="s2">"</span><span class="s">csi.storage.k8s.io/fstype"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">xfs"</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="na">provisioner</span><span class="pi">:</span> <span class="s">topolvm.io</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="na">reclaimPolicy</span><span class="pi">:</span> <span class="s">Delete</span>
<span class="na">volumeBindingMode</span><span class="pi">:</span> <span class="s">WaitForFirstConsumer</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="na">allowVolumeExpansion</span><span class="pi">:</span> <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An example of the default storage class. If a PVC does not specify a storage class, this class is assumed. There can only be one default storage class in a cluster. Having no value assigned to this annotation is also supported.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specifies which file system to provision on the volume. Options are "xfs" and "ext4".</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Identifies which provisioner should manage this class.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Specifies whether to provision the volume before a client pod is present or immediately. Options are <code>WaitForFirstConsumer</code> and <code>Immediate</code>. <code>WaitForFirstConsumer</code> is recommended to ensure that storage is only provisioned for pods that can be scheduled.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specifies if PVCs provisioned from the <code>StorageClass</code> permit expansion. The MicroShift LVMS CSI plugin does support volume expansion, but if this value is set to <code>false</code>, expansion is blocked.</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.19/html/storage/dynamic-provisioning#defining-storage-classes_dynamic-provisioning">Defining storage classes</a></p>
</li>
<li>
<p><a href="../microshift_storage/microshift-storage-plugin-overview.html#microshift-storage-device-classes_microshift-storage-plugin-overview">Storage device classes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-volume-snapshot-classes_volume-snapshots-microshift"><a class="anchor" href="#microshift-volume-snapshot-classes_volume-snapshots-microshift"></a>Volume snapshot classes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Snapshotting is a CSI storage feature supported by LVMS. To enable dynamic snapshotting, at least one <code>VolumeSnapshotClass</code> configuration file must be present on the cluster.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You must enable thin logical volumes to take logical volume snapshots.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example <code>VolumeSnapshotClass</code> configuration file</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">snapshot.storage.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">VolumeSnapshotClass</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">topolvm-snapclass</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="s">snapshot.storage.kubernetes.io/is-default-class</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="na">driver</span><span class="pi">:</span> <span class="s">topolvm.io</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="na">deletionPolicy</span><span class="pi">:</span> <span class="s">Delete</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Determines which <code>VolumeSnapshotClass</code> configuration file to use when none is specified by <code>VolumeSnapshot</code>, which is a request for snapshot of a volume by a user.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Identifies which snapshot provisioner should manage the requests for snapshots of a volume by a user for this class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Determines whether <code>VolumeSnapshotContent</code> objects and the backing snapshots are kept or deleted when a bound <code>VolumeSnapshot</code> is deleted. Valid values are <code>Retain</code> or <code>Delete</code>.</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.19/html/storage/using-container-storage-interface-csi#persistent-storage-csi-snapshots-overview_persistent-storage-csi-snapshots">OpenShift CSI volume snapshots</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="about-volume-snapshots_volume-snapshots-microshift"><a class="anchor" href="#about-volume-snapshots_volume-snapshots-microshift"></a>About volume snapshots</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use volume snapshots with logical volume manager (LVM) thin volumes to help protect against data loss from applications running in a MicroShift cluster. MicroShift only supports the logical volume manager storage (LVMS) Container Storage Interface (CSI) provider.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>LVMS only supports the <code>volumeBindingMode</code> of the storage class being set to <code>WaitForFirstConsumer</code>. This setting means the storage volume is not provisioned until a pod is ready to mount it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example workload that deploys a single pod and PVC</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
</span><span class="go">apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: test-claim-thin
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
  storageClassName: topolvm-provisioner-thin
---
apiVersion: v1
kind: Pod
metadata:
  name: base
spec:
  containers:
  - command:
	    - nginx
	    - -g
</span><span class="gp">	    - 'daemon off;</span><span class="s1">'
</span><span class="go">    image: registry.redhat.io/rhel8/nginx-122@sha256:908ebb0dec0d669caaf4145a8a21e04fdf9ebffbba5fd4562ce5ab388bf41ab2
    name: test-container
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
    volumeMounts:
    - mountPath: /vol
      name: test-vol
  securityContext:
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
  volumes:
  - name: test-vol
    persistentVolumeClaim:
      claimName: test-claim-thin
EOF</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-volume-snapshotting_volume-snapshots-microshift"><a class="anchor" href="#creating-a-volume-snapshotting_volume-snapshots-microshift"></a>Creating a volume snapshot</h3>
<div class="paragraph">
<p>To create a snapshot of a MicroShift storage volume, you must first configure RHEL for Edge and the cluster. In the following example procedure, the pod that the source volume is mounted to is deleted. Deleting the pod prevents data from being written to it during snapshot creation. Ensuring that no data is being written during a snapshot is crucial to creating a viable snapshot.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>User has root access to a MicroShift cluster.</p>
</li>
<li>
<p>A MicroShift cluster is running.</p>
</li>
<li>
<p>A device class defines an LVM thin-pool.</p>
</li>
<li>
<p>A <code>volumeSnapshotClass</code> specifies <code>driver: topolvm.io</code>.</p>
</li>
<li>
<p>Any workload attached to the source PVC is paused or deleted. This helps avoid data corruption.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All writes to the volume must be halted while you are creating the snapshot. If you do not halt writes, your data might be corrupted.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Prevent data from being written to the volume during snapshotting by using one of the two following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Delete the pod to ensure that no data is written to the volume during snapshotting by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc delete my-pod</code></pre>
</div>
</div>
</li>
<li>
<p>Scale the replica count to zero on a pod that is managed with a replication controller. Setting the count to zero prevents the instant creation of a new pod when one is deleted.</p>
</li>
</ol>
</div>
</li>
<li>
<p>After all writes to the volume are halted, run a command similar to the example that follows. Insert your own configuration details.</p>
<div class="listingblock">
<div class="title">Example snapshot configuration</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">#</span><span class="w"> </span>oc apply <span class="nt">-f</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
</span><span class="go">apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshot <i class="conum" data-value="1"></i><b>(1)</b>
metadata:
</span><span class="gp">  name: &lt;snapshot_name&gt;</span><span class="w"> <i class="conum" data-value="2"></i><b>(2)</b>
</span><span class="go">spec:
  volumeSnapshotClassName: topolvm-snapclass <i class="conum" data-value="3"></i><b>(3)</b>
  source:
    persistentVolumeClaimName: test-claim-thin <i class="conum" data-value="4"></i><b>(4)</b>
EOF</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a <code>VolumeSnapshot</code> object.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The name that you specify for the snapshot.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify the desired name of the <code>VolumeSnapshotClass</code> object.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Specify either <code>persistentVolumeClaimName</code> or <code>volumeSnapshotContentName</code>. In this example, a snapshot is created from a PVC named <code>test-claim-thin</code>.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Wait for the storage driver to finish creating the snapshot by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc <span class="nb">wait </span>volumesnapshot/&lt;snapshot_name&gt; <span class="nt">--for</span><span class="o">=</span>jsonpath<span class="se">\=</span><span class="s1">'{.status.readyToUse}=true'</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Next steps</div>
<ol class="arabic">
<li>
<p>When the <code>volumeSnapshot</code> object is in a <code>ReadyToUse</code> state, you can restore it as a volume for future PVCs. Restart the pod or scale the replica count back up to the desired number.</p>
</li>
<li>
<p>After you have created the volume snapshot, you can remount the source PVC to a new pod.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Volume snapshots are located on the same devices as the original data. To use the volume snapshots as backups, move the snapshots to a secure location.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="microshift-storage-backup-vol-snaps_volume-snapshots-microshift"><a class="anchor" href="#microshift-storage-backup-vol-snaps_volume-snapshots-microshift"></a>Backing up a volume snapshot</h3>
<div class="paragraph">
<p>Snapshots of data from applications running on a MicroShift cluster are created as read-only logical volumes (LVs) located on the same devices as the original data. You must manually mount local volumes before they can be copied as persistent volumes (PVs) and used as backup copies. To use a snapshot of a MicroShift storage volume as a backup, find it on the local host and then move it to a secure location.</p>
</div>
<div class="paragraph">
<p>To find specific snapshots and copy them, use the following procedure.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have root access to the host machine.</p>
</li>
<li>
<p>You have an existing volume snapshot.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Get the name of the volume snapshot by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get volumesnapshot <span class="nt">-n</span> &lt;namespace&gt; &lt;snapshot_name&gt; <span class="nt">-o</span> <span class="s1">'jsonpath={.status.volumeSnapshotContentName}'</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;namespace&gt;</em> and <em>&lt;snapshot_name&gt;</em> with the namespace and snapshot name you used.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Get the unique identity of the volume created on the storage backend by using the following command and inserting the name retrieved in the previous step:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get volumesnapshotcontent snapcontent-&lt;retrieved_volume_identity&gt; <span class="nt">-o</span> <span class="s1">'jsonpath={.status.snapshotHandle}'</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;retrieved_volume_identity&gt;</em> with the volume identity.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Display the snapshots by using the unique identity of the volume you retrieved in the previous step to determine which one you want to backup by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>lvdisplay &lt;retrieved_volume_identity&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;retrieved_volume_identity&gt;</em> with the volume identity.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">--- Logical volume ---
LV Path                /dev/rhel/732e45ff-f220-49ce-859e-87ccca26b14c
LV Name                732e45ff-f220-49ce-859e-87ccca26b14c
VG Name                rhel
LV UUID                6Ojwc0-YTfp-nKJ3-F9FO-PvMR-Ic7b-LzNGSx
LV Write Access        read only
LV Creation host, time rhel-92.lab.local, 2023-08-07 14:45:26 -0500
LV Pool name           thinpool
LV Thin origin name    a2d2dcdc-747e-4572-8c83-56cd873d3b07
LV Status              available
</span><span class="gp">#</span><span class="w"> </span>open                 0
<span class="go">LV Size                1.00 GiB
Mapped size            1.04%
Current LE             256
Segments               1
Allocation             inherit
Read ahead sectors     auto
- currently set to     256
Block device           253:11</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create a directory to use for mounting the LV by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo mkdir</span> /mnt/snapshot</code></pre>
</div>
</div>
</li>
<li>
<p>Mount the LV using the device name for the retrieved snapshot handle by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>mount /dev/&lt;retrieved_snapshot_handle&gt; /mnt/snapshot <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;retrieved_snapshot_handle&gt;</em> with the device name.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Copy the files from the mounted location and store them in a secure location by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo cp</span> <span class="nt">-r</span> /mnt/snapshot &lt;destination&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;destination&gt;</em> with the path to the secure location.</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="restoring-vol-snapshot-microshift_volume-snapshots-microshift"><a class="anchor" href="#restoring-vol-snapshot-microshift_volume-snapshots-microshift"></a>Restoring a volume snapshot</h3>
<div class="paragraph">
<p>The following workflow demonstrates snapshot restoration. In this example, the verification steps are also given to ensure that data written to a source persistent volume claim (PVC) is preserved and restored on a new PVC.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A snapshot must be restored to a PVC of exactly the same size as the source volume of the snapshot. You can resize the PVC after the snapshot is restored successfully if a larger PVC is needed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Restore a snapshot by specifying the <code>VolumeSnapshot</code> object as the data source in a persistent volume claim by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
</span><span class="go">apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: snapshot-restore
spec:
  accessModes:
  - ReadWriteOnce
  dataSource:
    apiGroup: snapshot.storage.k8s.io
    kind: VolumeSnapshot
    name: my-snap
  resources:
    requests:
      storage: 1Gi
  storageClassName: topolvm-provisioner-thin
---
apiVersion: v1
kind: Pod
metadata:
  name: base
spec:
  containers:
  - command:
      - nginx
	    - -g
</span><span class="gp">	    - 'daemon off;</span><span class="s1">'
</span><span class="go">    image: registry.redhat.io/rhel8/nginx-122@sha256:908ebb0dec0d669caaf4145a8a21e04fdf9ebffbba5fd4562ce5ab388bf41ab2
    name: test-container
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
    volumeMounts:
    - mountPath: /vol
      name: test-vol
  securityContext:
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
  volumes:
  - name: test-vol
    persistentVolumeClaim:
      claimName: snapshot-restore
EOF</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Wait for the pod to reach the <code>Ready</code> state:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc <span class="nb">wait</span> <span class="nt">--for</span><span class="o">=</span><span class="nv">condition</span><span class="o">=</span>Ready pod/base</code></pre>
</div>
</div>
</li>
<li>
<p>When the new pod is ready, verify that the data from your application is correct in the snapshot.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.19/html/storage/using-container-storage-interface-csi#persistent-storage-csi-snapshots-restore_persistent-storage-csi-snapshots">Restoring a volume snapshot</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="persistent-storage-csi-snapshots-delete_volume-snapshots-microshift"><a class="anchor" href="#persistent-storage-csi-snapshots-delete_volume-snapshots-microshift"></a>Deleting a volume snapshot</h3>
<div class="paragraph">
<p>You can configure how Red Hat build of MicroShift deletes volume snapshots.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Specify the deletion policy that you require in the <code>VolumeSnapshotClass</code> object, as shown in the following example:</p>
<div class="listingblock">
<div class="title">volumesnapshotclass.yaml</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">snapshot.storage.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">VolumeSnapshotClass</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">csi-hostpath-snap</span>
<span class="na">driver</span><span class="pi">:</span> <span class="s">hostpath.csi.k8s.io</span>
<span class="na">deletionPolicy</span><span class="pi">:</span> <span class="s">Delete</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic small">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When deleting the volume snapshot, if the <code>Delete</code> value is set, the underlying snapshot is deleted along with the <code>VolumeSnapshotContent</code> object. If the <code>Retain</code> value is set, both the underlying snapshot and <code>VolumeSnapshotContent</code> object remain.
 <br>
If the <code>Retain</code> value is set and the <code>VolumeSnapshot</code> object is deleted without deleting the corresponding <code>VolumeSnapshotContent</code> object, the content remains. The snapshot itself is also retained in the storage back end.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Delete the volume snapshot by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc delete volumesnapshot &lt;volumesnapshot_name&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;volumesnapshot_name&gt;</em> with the name of the volume snapshot you want to delete.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">volumesnapshot.snapshot.storage.k8s.io "mysnapshot" deleted</span></code></pre>
</div>
</div>
</li>
<li>
<p>If the deletion policy is set to <code>Retain</code>, delete the volume snapshot content by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc delete volumesnapshotcontent &lt;volumesnapshotcontent_name&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;volumesnapshotcontent_name&gt;</em> with the content you want to delete.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional: If the <code>VolumeSnapshot</code> object is not successfully deleted, enter the following command to remove any finalizers for the leftover resource so that the delete operation can continue:</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Only remove the finalizers if you are confident that there are no existing references from either persistent volume claims or volume snapshot contents to the <code>VolumeSnapshot</code> object.
Even with the <code>--force</code> option, the delete operation does not delete snapshot objects until all finalizers are removed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc patch <span class="nt">-n</span> <span class="nv">$PROJECT</span> volumesnapshot/<span class="nv">$NAME</span> <span class="nt">--type</span><span class="o">=</span>merge <span class="nt">-p</span> <span class="s1">'{"metadata": {"finalizers":null}}'</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">volumesnapshotclass.snapshot.storage.k8s.io "csi-ocs-rbd-snapclass" deleted</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The finalizers are removed and the volume snapshot is deleted.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-storage-volume-cloning_volume-snapshots-microshift"><a class="anchor" href="#microshift-storage-volume-cloning_volume-snapshots-microshift"></a>About LVM volume cloning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The logical volume manager storage (LVMS) supports persistent volume claim (PVC) cloning for logical volume manager (LVM) thin volumes. A clone is a duplicate of an existing volume that can be used like any other volume. When provisioned, an exact duplicate of the original volume is created if the data source references a source PVC in the same namespace. After a cloned PVC is created, it is considered a new object and completely separate from the source PVC. The clone represents the data from the source at the moment in time it was created.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Cloning is only possible when the source and destination PVCs are in the same namespace. To create PVC clones, you must configure thin volumes on the RHEL for Edge host.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.19/html/storage/using-container-storage-interface-csi#persistent-storage-csi-cloning">CSI volume cloning</a></p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>To configure the host to enable cloning, see <a href="../microshift_storage/volume-snapshots-microshift.html#microshift-lvm-thin-volumes_volume-snapshots-microshift">About LVM thin volumes</a></p>
</li>
</ul>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'microshift';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-telco': ['docs_telco', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version],
    'openshift-serverless' : ['docs_serverless', version],
    'openshift-pipelines' : ['docs_pipelines', version],
    'openshift-builds' : ['docs_builds', version],
    'openshift-gitops' : ['docs_gitops', version],
    'openshift-lightspeed' : ['docs_lightspeed', version],
    'openshift-service-mesh' : ['docs_service_mesh', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.net/content/img/Logo-Red_Hat-OpenShift-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright © 2025 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

  <!-- hide footer after 3 seconds -->
  <script type="text/javascript">
    const hideFooter = () => {
      document.querySelector('footer#rh, footer.footer-origin-docs').style.display = "none";
    };

    window.addEventListener('load', function() {
      setTimeout(hideFooter, 3000);
    });
  </script>
</body>
</html>