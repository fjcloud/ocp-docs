

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>Using networking settings | Networking | Red Hat build of MicroShift Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.okd.io/latest/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      
      <span>
        <div class="alert alert-info" role="primary" id="support-info">
          <strong>Starting on March 12, 2025, OpenShift docs will only be available at <a href="https://docs.redhat.com/en/" style="color: #0C5460 !important" class="link-primary">docs.redhat.com</a>. From that time on, docs.openshift.com links will automatically redirect to their locations on docs.redhat.com.
          </strong>
        </div>
      </span>
      

      

      

      

      

      

      

      
      

      

      


      

      


      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          <a href="../microshift_welcome/index.html">Red Hat build of MicroShift Branch Build</a>
        
      </li>
      <li class="hidden-xs active">
        <a href="../microshift_networking/microshift-cni.html">Networking</a>
      </li>
      
      
      <li class="hidden-xs active">
        Using networking settings
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/main/microshift_networking/microshift-networking-settings.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12332330&issuetype=1&components=12367614&priority=4&summary=[microshift-Branch Build]+Issue+in+file+microshift_networking/microshift-networking-settings.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-right"></span>Understanding MicroShift</a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_welcome/index.html">Understanding Red Hat build of MicroShift</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1"><span id="tgSpan1" class="fa fa-angle-right"></span>Red Hat build of MicroShift release notes</a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_release_notes/microshift-4-19-release-notes.html">Red Hat build of MicroShift 4.19 release notes</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2"><span id="tgSpan2" class="fa fa-angle-right"></span>Getting ready to install MicroShift</a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_get_ready/microshift-install-get-ready.html">Getting ready to install MicroShift</a></li>
            <li><a class="" href="../microshift_install_get_ready/microshift-fips.html">Using FIPS mode</a></li>
            <li><a class="" href="../microshift_install_get_ready/microshift-greenboot.html">Understanding system health checks</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3"><span id="tgSpan3" class="fa fa-angle-right"></span>Installing with an RPM package</a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm/microshift-install-rpm.html">Installing with an RPM package</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4"><span id="tgSpan4" class="fa fa-angle-right"></span>Installing optional RPM packages</a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm_opt/microshift-install-optional-rpms.html">Installing optional RPM packages</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5"><span id="tgSpan5" class="fa fa-angle-right"></span>Embedding in a RHEL for Edge image</a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.html">Embedding in a RHEL for Edge image using image builder</a></li>
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-deploy-with-mirror-registry.html">Mirroring container images for disconnected installations</a></li>
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree-offline-use.html">Embedding in a RHEL for Edge image for offline use</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6"><span id="tgSpan6" class="fa fa-angle-right"></span>Installing with RHEL image mode</a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_bootc/microshift-about-rhel-image-mode.html">Understanding image mode for RHEL</a></li>
            <li><a class="" href="../microshift_install_bootc/microshift-install-bootc-image.html">Installing a bootc image</a></li>
            <li><a class="" href="../microshift_install_bootc/microshift-install-running-bootc-image-vm.html">Running the bootc image</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7"><span id="tgSpan7" class="fa fa-angle-right"></span>Using RHEL Kickstarts</a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_kickstarts/microshift-rhel-kickstarts.html">Using a Kickstart file for automating installation</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8"><span id="tgSpan8" class="fa fa-angle-right"></span>Updating</a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_updating/microshift-update-options.html">Update options</a></li>
            <li><a class="" href="../microshift_updating/microshift-update-rpms-ostree.html">Updates with rpm-ostree systems</a></li>
            <li><a class="" href="../microshift_updating/microshift-update-rpms-manually.html">Manual updates with RPMs</a></li>
            <li><a class="" href="../microshift_updating/microshift-list-update-contents.html">Listing update package contents</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9"><span id="tgSpan9" class="fa fa-angle-right"></span>Support</a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_support/microshift-etcd.html">The etcd service</a></li>
            <li><a class="" href="../microshift_support/microshift-sos-report.html">The sos report tool</a></li>
            <li><a class="" href="../microshift_support/microshift-getting-cluster-id.html">Getting your cluster ID</a></li>
            <li><a class="" href="../microshift_support/microshift-getting-support.html">Getting support</a></li>
            <li><a class="" href="../microshift_support/microshift-remote-cluster-monitoring.html">Remote health monitoring with a connected cluster</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10"><span id="tgSpan10" class="fa fa-angle-right"></span>Configuring</a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_configuring/microshift-using-config-yaml.html">Using the MicroShift configuration file</a></li>
            <li><a class="" href="../microshift_configuring/microshift-nw-ipv6-config.html">Configuring IPv6 networking</a></li>
            <li><a class="" href="../microshift_configuring/microshift-ingress-controller.html">Using ingress control for a MicroShift cluster</a></li>
            <li><a class="" href="../microshift_configuring/microshift-disable-lvms-csi-provider-csi-snapshot.html">Disabling LVMS CSI provider and CSI snapshot</a></li>
            <li><a class="" href="../microshift_configuring/microshift-greenboot-checking-status.html">Checking the status of Greenboot health checks</a></li>
            <li><a class="" href="../microshift_configuring/microshift-cluster-access-kubeconfig.html">Cluster access with kubeconfig</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-6"><span id="sgSpan-10-6" class="fa fa-caret-right"></span>&nbsp;Configuring MicroShift authentication and security</a>
              <ul id="topicSubGroup-10-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-custom-ca.html">Using custom certificate authorities</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-tls-config.html">Configuring TLS security profiles</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-audit-logs-config.html">Configuring audit logging policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-7"><span id="sgSpan-10-7" class="fa fa-caret-right"></span>&nbsp;Configuring low latency</a>
              <ul id="topicSubGroup-10-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_configuring/microshift_low_latency/microshift-low-latency.html">Configuring low latency</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_low_latency/microshift-workload-partitioning.html">Workload partitioning</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11"><span id="tgSpan11" class="fa fa-angle-down"></span>Networking</a>
      <ul id="topicGroup11" class="collapse in list-unstyled">
            <li><a class="" href="../microshift_networking/microshift-cni.html">About the networking plugin</a></li>
            <li><a class=" active" href="../microshift_networking/microshift-networking-settings.html">Using networking settings</a></li>
            <li><a class="" href="../microshift_networking/microshift-nw-router.html">Configuring the router</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-3"><span id="sgSpan-11-3" class="fa fa-caret-right"></span>&nbsp;Network policies</a>
              <ul id="topicSubGroup-11-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-network-policy-index.html">About network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-creating-network-policy.html">Creating network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-editing-network-policy.html">Editing network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-deleting-network-policy.html">Deleting network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-viewing-network-policy.html">Viewing network policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-4"><span id="sgSpan-11-4" class="fa fa-caret-right"></span>&nbsp;Multiple networks</a>
              <ul id="topicSubGroup-11-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_networking/microshift_multiple_networks/microshift-cni-multus.html">About using multiple networks</a></li>
                  <li><a class="" href="../microshift_networking/microshift_multiple_networks/microshift-cni-multus-using.html">Configuring and using multiple networks</a></li>              </ul>
            </li>
            <li><a class="" href="../microshift_networking/microshift-configuring-routes.html">Configuring routes</a></li>
            <li><a class="" href="../microshift_networking/microshift-firewall.html">Firewall configuration</a></li>
            <li><a class="" href="../microshift_networking/microshift-disconnected-network-config.html">Networking settings for fully disconnected hosts</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12"><span id="tgSpan12" class="fa fa-angle-right"></span>Storage</a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_storage/index.html">About storage</a></li>
            <li><a class="" href="../microshift_storage/understanding-ephemeral-storage-microshift.html">Understanding ephemeral storage</a></li>
            <li><a class="" href="../microshift_storage/generic-ephemeral-volumes-microshift.html">Generic ephemeral volumes</a></li>
            <li><a class="" href="../microshift_storage/understanding-persistent-storage-microshift.html">Understanding persistent storage</a></li>
            <li><a class="" href="../microshift_storage/expanding-persistent-volumes-microshift.html">Expanding persistent volumes</a></li>
            <li><a class="" href="../microshift_storage/microshift-storage-plugin-overview.html">Dynamic storage using the LVMS plugin</a></li>
            <li><a class="" href="../microshift_storage/volume-snapshots-microshift.html">Working with volume snapshots</a></li>
            <li><a class="" href="../microshift_storage/microshift-storage-migration.html">Understanding storage migration</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13"><span id="tgSpan13" class="fa fa-angle-right"></span>Running applications</a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_running_apps/microshift-applications.html">Using Kustomize to deploy applications</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-deleting-resource-manifests.html">Deleting or updating Kustomize manifest resources</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embedded-apps-on-rhel-edge.html">Embedding applications on RHEL for Edge</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embed-apps-offline-use.html">Embedding applications for offline use</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embedding-apps-tutorial.html">Embedding applications tutorial</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-greenboot-workload-scripts.html">Creating application or workload health check scripts</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-gitops.html">Automating application management with GitOps</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-authentication.html">Pod security authentication and authorization</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-8"><span id="sgSpan-13-8" class="fa fa-caret-right"></span>&nbsp;Operators</a>
              <ul id="topicSubGroup-13-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators.html">Using Operators</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-olm.html">Using Operator Lifecycle Manager</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-oc-mirror.html">Creating custom catalogs with oc-mirror</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-oc-mirror-disconnected.html">Adding OLM-based Operators to a disconnected cluster</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14"><span id="tgSpan14" class="fa fa-angle-right"></span>Backup and restore</a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_backup_and_restore/microshift-backup-and-restore.html">Backing up and restoring data</a></li>
            <li><a class="" href="../microshift_backup_and_restore/microshift-auto-recover-manual-backup.html">Automated recovery from manual backups</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup15"><span id="tgSpan15" class="fa fa-angle-right"></span>Troubleshooting</a>
      <ul id="topicGroup15" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_troubleshooting/microshift-version.html">Check your version</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-cluster.html">Troubleshoot the cluster</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-installing-troubleshooting.html">Troubleshoot installation issues</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-backup-restore.html">Troubleshoot backup and restore</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-updates.html">Troubleshoot updates</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-audit-logs.html">Check the audit logs</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-etcd-troubleshoot.html">Troubleshoot etcd</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-things-to-know.html">Additional information</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-cleanup-data.html">Data cleanup</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup16"><span id="tgSpan16" class="fa fa-angle-right"></span>CLI tools</a>
      <ul id="topicGroup16" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_cli_ref/microshift-cli-tools-introduction.html">CLI tools introduction</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-cli-install.html">Installing the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-config.html">Configuring the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-cli-using-oc.html">Using the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-usage-oc-kubectl.html">Using oc and kubectl</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-cli-commands-list.html">List of oc CLI commands</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup17"><span id="tgSpan17" class="fa fa-angle-right"></span>API reference</a>
      <ul id="topicGroup17" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_rest_api/understanding-api-support-tiers.html">Understanding API tiers</a></li>
            <li><a class="" href="../microshift_rest_api/understanding-compatibility-guidelines.html">API compatibility guidelines</a></li>
            <li><a class="" href="../microshift_rest_api/index.html">API index</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-3"><span id="sgSpan-17-3" class="fa fa-caret-right"></span>&nbsp;API object reference</a>
              <ul id="topicSubGroup-17-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/objects/index.html">API objects reference</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-4"><span id="sgSpan-17-4" class="fa fa-caret-right"></span>&nbsp;Extension APIs</a>
              <ul id="topicSubGroup-17-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/api_extensions_apis/api-extensions-apis-index.html">Extension APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/api_extensions_apis/customresourcedefinition-apiextensions-k8s-io-v1.html">CustomResourceDefinition [apiextensions.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-5"><span id="sgSpan-17-5" class="fa fa-caret-right"></span>&nbsp;Registration APIs</a>
              <ul id="topicSubGroup-17-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/api_registration_apis/api-registration-apis-index.html">Registration APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/api_registration_apis/apiservice-apiregistration-k8s-io-v1.html">APIService [apiregistration.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-6"><span id="sgSpan-17-6" class="fa fa-caret-right"></span>&nbsp;Apps APIs</a>
              <ul id="topicSubGroup-17-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/apps_apis/apps-apis-index.html">Apps APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/controllerrevision-apps-v1.html">ControllerRevision [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/daemonset-apps-v1.html">DaemonSet [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/deployment-apps-v1.html">Deployment [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/replicaset-apps-v1.html">ReplicaSet [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/statefulset-apps-v1.html">StatefulSet [apps/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-7"><span id="sgSpan-17-7" class="fa fa-caret-right"></span>&nbsp;Authentication APIs</a>
              <ul id="topicSubGroup-17-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/authentication_apis/authentication-apis-index.html">Authentication APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/authentication_apis/tokenrequest-authentication-k8s-io-v1.html">TokenRequest [authentication.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authentication_apis/tokenreview-authentication-k8s-io-v1.html">TokenReview [authentication.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-8"><span id="sgSpan-17-8" class="fa fa-caret-right"></span>&nbsp;Authorization APIs</a>
              <ul id="topicSubGroup-17-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/authorization_apis/authorization-apis-index.html">Authorization APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/localsubjectaccessreview-authorization-k8s-io-v1.html">LocalSubjectAccessReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/selfsubjectaccessreview-authorization-k8s-io-v1.html">SelfSubjectAccessReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/selfsubjectrulesreview-authorization-k8s-io-v1.html">SelfSubjectRulesReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/subjectaccessreview-authorization-k8s-io-v1.html">SubjectAccessReview [authorization.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-9"><span id="sgSpan-17-9" class="fa fa-caret-right"></span>&nbsp;Autoscaling APIs</a>
              <ul id="topicSubGroup-17-9" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/autoscaling-apis-index.html">Autoscaling APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/horizontalpodautoscaler-autoscaling-v2.html">HorizontalPodAutoscaler [autoscaling/v2]</a></li>
                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/scale-autoscaling-v1.html">Scale [autoscaling/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-10"><span id="sgSpan-17-10" class="fa fa-caret-right"></span>&nbsp;Batch APIs</a>
              <ul id="topicSubGroup-17-10" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/batch_apis/batch-apis-index.html">Batch APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/batch_apis/cronjob-batch-v1.html">CronJob [batch/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/batch_apis/job-batch-v1.html">Job [batch/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-11"><span id="sgSpan-17-11" class="fa fa-caret-right"></span>&nbsp;Certificates APIs</a>
              <ul id="topicSubGroup-17-11" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/certificates_apis/certificates-apis-index.html">Certificates APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/certificates_apis/certificatesigningrequest-certificates-k8s-io-v1.html">CertificateSigningRequest [certificates.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-12"><span id="sgSpan-17-12" class="fa fa-caret-right"></span>&nbsp;Coordination APIs</a>
              <ul id="topicSubGroup-17-12" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/coordination_apis/coordination-apis-index.html">Coordination APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/coordination_apis/lease-coordination-k8s-io-v1.html">Lease [coordination.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-13"><span id="sgSpan-17-13" class="fa fa-caret-right"></span>&nbsp;Core APIs</a>
              <ul id="topicSubGroup-17-13" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/core_apis/core-apis-index.html">Core APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/binding-v1.html">Binding [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/componentstatus-v1.html">ComponentStatus [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/configmap-v1.html">ConfigMap [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/endpoints-v1.html">Endpoints [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/event-v1.html">Event [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/limitrange-v1.html">LimitRange [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/namespace-v1.html">Namespace [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/node-v1.html">Node [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/persistentvolume-v1.html">PersistentVolume [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/persistentvolumeclaim-v1.html">PersistentVolumeClaim [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/pod-v1.html">Pod [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/podtemplate-v1.html">PodTemplate [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/replicationcontroller-v1.html">ReplicationController [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/resourcequota-v1.html">ResourceQuota [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/secret-v1.html">Secret [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/service-v1.html">Service [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/serviceaccount-v1.html">ServiceAccount [v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-14"><span id="sgSpan-17-14" class="fa fa-caret-right"></span>&nbsp;Discovery APIs</a>
              <ul id="topicSubGroup-17-14" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/discovery_apis/discovery-apis-index.html">Discovery APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/discovery_apis/endpointslice-discovery-k8s-io-v1.html">EndpointSlice [discovery.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-15"><span id="sgSpan-17-15" class="fa fa-caret-right"></span>&nbsp;Events APIs</a>
              <ul id="topicSubGroup-17-15" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/events_apis/events-apis-index.html">Events APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/events_apis/event-events-k8s-io-v1.html">Event [events.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-16"><span id="sgSpan-17-16" class="fa fa-caret-right"></span>&nbsp;Flow Control APIs</a>
              <ul id="topicSubGroup-17-16" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/flow_control_apis/flow-control-apis-index.html">Flow Control APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/flow_control_apis/flowschema-flowcontrol-apiserver-k8s-io-v1beta3.html">FlowSchema [flowcontrol.apiserver.k8s.io/v1beta3]</a></li>
                  <li><a class="" href="../microshift_rest_api/flow_control_apis/prioritylevelconfiguration-flowcontrol-apiserver-k8s-io-v1beta3.html">PriorityLevelConfiguration [flowcontrol.apiserver.k8s.io/v1beta3]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-17"><span id="sgSpan-17-17" class="fa fa-caret-right"></span>&nbsp;Networking APIs</a>
              <ul id="topicSubGroup-17-17" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/networking_apis/networking-apis-index.html">Networking APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/ingress-networking-k8s-io-v1.html">Ingress [networking.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/ingressclass-networking-k8s-io-v1.html">IngressClass [networking.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/networkpolicy-networking-k8s-io-v1.html">NetworkPolicy [networking.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-18"><span id="sgSpan-17-18" class="fa fa-caret-right"></span>&nbsp;Node APIs</a>
              <ul id="topicSubGroup-17-18" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/node_apis/node-apis-index.html">Node APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/node_apis/runtimeclass-node-k8s-io-v1.html">RuntimeClass [node.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-19"><span id="sgSpan-17-19" class="fa fa-caret-right"></span>&nbsp;Policy APIs</a>
              <ul id="topicSubGroup-17-19" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/policy_apis/policy-apis-index.html">Policy APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/policy_apis/eviction-policy-v1.html">Eviction [policy/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/policy_apis/poddisruptionbudget-policy-v1.html">PodDisruptionBudget [policy/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-20"><span id="sgSpan-17-20" class="fa fa-caret-right"></span>&nbsp;RBAC APIs</a>
              <ul id="topicSubGroup-17-20" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/rbac_apis/rbac-apis-index.html">RBAC APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/clusterrole-rbac-authorization-k8s-io-v1.html">ClusterRole [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/clusterrolebinding-rbac-authorization-k8s-io-v1.html">ClusterRoleBinding [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/role-rbac-authorization-k8s-io-v1.html">Role [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/rolebinding-rbac-authorization-k8s-io-v1.html">RoleBinding [rbac.authorization.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-21"><span id="sgSpan-17-21" class="fa fa-caret-right"></span>&nbsp;Network APIs</a>
              <ul id="topicSubGroup-17-21" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/network_apis/network-apis-index.html">Network APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/network_apis/route-route-openshift-io-v1.html">Route [route.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-22"><span id="sgSpan-17-22" class="fa fa-caret-right"></span>&nbsp;Scheduling APIs</a>
              <ul id="topicSubGroup-17-22" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/scheduling_apis/scheduling-apis-index.html">Scheduling APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/scheduling_apis/priorityclass-scheduling-k8s-io-v1.html">PriorityClass [scheduling.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-23"><span id="sgSpan-17-23" class="fa fa-caret-right"></span>&nbsp;Security APIs</a>
              <ul id="topicSubGroup-17-23" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/security_apis/security-apis-index.html">Security APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/security_apis/securitycontextconstraints-security-openshift-io-v1.html">SecurityContextConstraints [security.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-24"><span id="sgSpan-17-24" class="fa fa-caret-right"></span>&nbsp;Security-Internal APIs</a>
              <ul id="topicSubGroup-17-24" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/security_internal_apis/security-internal-apis-index.html">Security Internal APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/security_internal_apis/rangeallocation-security-internal-openshift-io-v1.html">RangeAllocation [security.internal.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-25"><span id="sgSpan-17-25" class="fa fa-caret-right"></span>&nbsp;Snapshot APIs</a>
              <ul id="topicSubGroup-17-25" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/snapshot_apis/snapshot-apis-index.html">CSI Snapshot APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshot-snapshot-storage-k8s-io-v1.html">VolumeSnapshot [snapshot.storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshotclass-snapshot-storage-k8s-io-v1.html">VolumeSnapshotClass [snapshot.storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshotcontent-snapshot-storage-k8s-io-v1.html">VolumeSnapshotContent [snapshot.storage.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-26"><span id="sgSpan-17-26" class="fa fa-caret-right"></span>&nbsp;Storage APIs</a>
              <ul id="topicSubGroup-17-26" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/storage_apis/storage-apis-index.html">Storage APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csidriver-storage-k8s-io-v1.html">CSIDriver [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csinode-storage-k8s-io-v1.html">CSINode [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csistoragecapacity-storage-k8s-io-v1.html">CSIStorageCapacity [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/storageclass-storage-k8s-io-v1.html">StorageClass [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/volumeattachment-storage-k8s-io-v1.html">VolumeAttachment [storage.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-27"><span id="sgSpan-17-27" class="fa fa-caret-right"></span>&nbsp;Storage Version Migration APIs</a>
              <ul id="topicSubGroup-17-27" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/storage_version_migration_apis/storage-version-migration-apis-index.html">Storage Version Migration APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_version_migration_apis/storageversionmigration-migration-k8s-io-v1alpha1.html">StorageVersionMigration [migration.k8s.io/v1alpha1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-28"><span id="sgSpan-17-28" class="fa fa-caret-right"></span>&nbsp;TopoLVM APIs</a>
              <ul id="topicSubGroup-17-28" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/topolvm_apis/topolvm-apis-index.html">TopoLVM APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/topolvm_apis/logicalvolume-topolvm-io-v1.html">LogicalVolume [topolvm.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-29"><span id="sgSpan-17-29" class="fa fa-caret-right"></span>&nbsp;Webhook APIs</a>
              <ul id="topicSubGroup-17-29" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/webhook_apis/webhook-apis-index.html">Webhook APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/webhook_apis/mutatingwebhookconfiguration-admissionregistration-k8s-io-v1.html">MutatingWebhookConfiguration [admissionregistration.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/webhook_apis/validatingwebhookconfiguration-admissionregistration-k8s-io-v1.html">ValidatingWebhookConfiguration [admissionregistration.k8s.io/v1]</a></li>              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Understanding networking settings
          </h1>
        </div>
        
        
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#microshift-config-OVN-K_microshift-networking">Creating an OVN-Kubernetes configuration file</a></li>
<li><a href="#microshift-restart-ovnkube-master_microshift-networking">Restarting the ovnkube-master pod</a></li>
<li><a href="#microshift-http-proxy_microshift-networking">Deploying MicroShift behind an HTTP or HTTPS proxy</a></li>
<li><a href="#microshift-rpm-ostree-https_microshift-networking">Using the RPM-OStree HTTP or HTTPS proxy</a></li>
<li><a href="#microshift-CRI-O-container-engine_microshift-networking">Using a proxy in the CRI-O container runtime</a></li>
<li><a href="#microshift-OVS-snapshot_microshift-networking">Getting a snapshot of OVS interfaces from a running cluster</a></li>
<li><a href="#microshift-about-load-balancer-service_microshift-networking">The MicroShift LoadBalancer service for workloads</a></li>
<li><a href="#microshift-deploying-a-load-balancer_microshift-networking">Deploying a load balancer for an application</a></li>
<li><a href="#microshift-blocking-nodeport-access_microshift-networking">Blocking external access to the NodePort service on a specific host interface</a></li>
<li><a href="#microshift-mDNS_microshift-networking">The multicast DNS protocol</a></li>
<li><a href="#microshift-exposed-audit-ports_microshift-networking">Auditing exposed network ports</a>
<ul class="sectlevel2">
<li><a href="#microshift-exposed-audit-ports-hostnetwork_microshift-networking">hostNetwork</a></li>
<li><a href="#microshift-exposed-audit-ports-hostport_microshift-networking">hostPort</a></li>
<li><a href="#microshift-exposed-audit-ports-loadbalancer_microshift-networking">NodePort and LoadBalancer services</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p>Learn how to apply networking customization and default settings to MicroShift deployments. Each node is contained to a single machine and single MicroShift, so each deployment requires individual configuration, pods, and settings.</p>
</div>
<div class="paragraph">
<p>Cluster Administrators have several options for exposing applications that run inside a cluster to external traffic and securing network connections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A service such as NodePort</p>
</li>
<li>
<p>API resources, such as <code>Ingress</code> and <code>Route</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, Kubernetes allocates each pod an internal IP address for applications running within the pod. Pods and their containers can have traffic between them, but clients outside the cluster do not have direct network access to pods except when exposed with a service such as NodePort.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-config-OVN-K_microshift-networking"><a class="anchor" href="#microshift-config-OVN-K_microshift-networking"></a>Creating an OVN-Kubernetes configuration file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MicroShift uses built-in default OVN-Kubernetes values if an OVN-Kubernetes configuration file is not created. You can write an OVN-Kubernetes configuration file to <code>/etc/microshift/ovn.yaml</code>. An example file is provided for your configuration.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To create your <code>ovn.yaml</code> file, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="s">$ sudo cp /etc/microshift/ovn.yaml.default /etc/microshift/ovn.yaml</span></code></pre>
</div>
</div>
</li>
<li>
<p>To list the contents of the configuration file you created, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="s">$ cat /etc/microshift/ovn.yaml</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example YAML file with default maximum transmission unit (MTU) value</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">mtu</span><span class="pi">:</span> <span class="s">1400</span></code></pre>
</div>
</div>
</li>
<li>
<p>To customize your configuration, you can change the MTU value. The table that follows provides details:</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported optional OVN-Kubernetes configurations for MicroShift</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mtu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">uint32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">auto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MTU value used for the pods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1300</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you change the <code>mtu</code> configuration value in the <code>ovn.yaml</code> file, you must restart the host that Red Hat build of MicroShift is running on to apply the updated setting.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example custom <code>ovn.yaml</code> configuration file</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">mtu</span><span class="pi">:</span> <span class="s">1300</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-restart-ovnkube-master_microshift-networking"><a class="anchor" href="#microshift-restart-ovnkube-master_microshift-networking"></a>Restarting the ovnkube-master pod</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following procedure restarts the <code>ovnkube-master</code> pod.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The OpenShift CLI (<code>oc</code>) is installed.</p>
</li>
<li>
<p>Access to the cluster as a user with the <code>cluster-admin</code> role.</p>
</li>
<li>
<p>A cluster installed on infrastructure configured with the OVN-Kubernetes network plugin.</p>
</li>
<li>
<p>The KUBECONFIG environment variable is set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>Use the following steps to restart the <code>ovnkube-master</code> pod.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Access the remote cluster by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">export </span><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$PWD</span>/kubeconfig</code></pre>
</div>
</div>
</li>
<li>
<p>Find the name of the <code>ovnkube-master</code> pod that you want to restart by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nv">pod</span><span class="o">=</span><span class="si">$(</span>oc get pods <span class="nt">-n</span> openshift-ovn-kubernetes | <span class="nb">awk</span> <span class="nt">-F</span> <span class="s2">" "</span> <span class="s1">'/ovnkube-master/{print $1}'</span><span class="si">)</span></code></pre>
</div>
</div>
</li>
<li>
<p>Delete the <code>ovnkube-master</code> pod by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc <span class="nt">-n</span> openshift-ovn-kubernetes delete pod <span class="nv">$pod</span></code></pre>
</div>
</div>
</li>
<li>
<p>Confirm that a new <code>ovnkube-master</code> pod is running by using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-n</span> openshift-ovn-kubernetes</code></pre>
</div>
</div>
<div class="paragraph">
<p>The listing of the running pods shows a new <code>ovnkube-master</code> pod name and age.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-http-proxy_microshift-networking"><a class="anchor" href="#microshift-http-proxy_microshift-networking"></a>Deploying MicroShift behind an HTTP or HTTPS proxy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploy a MicroShift cluster behind an HTTP or HTTPS proxy when you want to add basic anonymity and security measures to your pods.</p>
</div>
<div class="paragraph">
<p>You must configure the host operating system to use the proxy service with all components initiating HTTP or HTTPS requests when deploying MicroShift behind a proxy.</p>
</div>
<div class="paragraph">
<p>All the user-specific workloads or pods with egress traffic, such as accessing cloud services, must be configured to use the proxy. There is no built-in transparent proxying of egress traffic in MicroShift.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-rpm-ostree-https_microshift-networking"><a class="anchor" href="#microshift-rpm-ostree-https_microshift-networking"></a>Using the RPM-OStree HTTP or HTTPS proxy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the HTTP or HTTPS proxy in RPM-OStree, you must add a <code>Service</code> section to the configuration file and set the <code>http_proxy environment</code> variable for the <code>rpm-ostreed</code> service.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Add this setting to the <code>/etc/systemd/system/rpm-ostreed.service.d/00-proxy.conf</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">[Service]
</span><span class="gp">Environment="http_proxy=http://$</span>PROXY_USER:<span class="nv">$PROXY_PASSWORD</span>@<span class="nv">$PROXY_SERVER</span>:<span class="nv">$PROXY_PORT</span>/<span class="s2">"</span></code></pre>
</div>
</div>
</li>
<li>
<p>Next, reload the configuration settings and restart the service to apply your changes.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Reload the configuration settings by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl daemon-reload</code></pre>
</div>
</div>
</li>
<li>
<p>Restart the <code>rpm-ostreed</code> service by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl restart rpm-ostreed.service</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-CRI-O-container-engine_microshift-networking"><a class="anchor" href="#microshift-CRI-O-container-engine_microshift-networking"></a>Using a proxy in the CRI-O container runtime</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use an HTTP or HTTPS proxy in <code>CRI-O</code>, you must add a <code>Service</code> section to the configuration file and set the <code>HTTP_PROXY</code> and <code>HTTPS_PROXY</code> environment variables. You can also set the <code>NO_PROXY</code> variable to exclude a list of hosts from being proxied.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create the directory for the configuration file if it does not exist:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo mkdir</span> /etc/systemd/system/crio.service.d/</code></pre>
</div>
</div>
</li>
<li>
<p>Add the following settings to the <code>/etc/systemd/system/crio.service.d/00-proxy.conf</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="config">[<span class="n">Service</span>]
<span class="n">Environment</span>=<span class="n">NO_PROXY</span>=<span class="s2">"localhost,127.0.0.1"</span>
<span class="n">Environment</span>=<span class="n">HTTP_PROXY</span>=<span class="s2">"http://$PROXY_USER:$PROXY_PASSWORD@$PROXY_SERVER:$PROXY_PORT/"</span>
<span class="n">Environment</span>=<span class="n">HTTPS_PROXY</span>=<span class="s2">"http://$PROXY_USER:$PROXY_PASSWORD@$PROXY_SERVER:$PROXY_PORT/"</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You must define the <code>Service</code> section of the configuration file for the environment variables or the proxy settings fail to apply.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Reload the configuration settings:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl daemon-reload</code></pre>
</div>
</div>
</li>
<li>
<p>Restart the CRI-O service:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl restart crio</code></pre>
</div>
</div>
</li>
<li>
<p>Restart the MicroShift service to apply the settings:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl restart microshift</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Verify that pods are started by running the following command and examining the output:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get all <span class="nt">-A</span></code></pre>
</div>
</div>
</li>
<li>
<p>Verify that MicroShift is able to pull container images by running the following command and examining the output:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>crictl images</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-OVS-snapshot_microshift-networking"><a class="anchor" href="#microshift-OVS-snapshot_microshift-networking"></a>Getting a snapshot of OVS interfaces from a running cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A snapshot represents the state and data of OVS interfaces at a specific point in time.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To see a snapshot of OVS interfaces from a running MicroShift cluster, use the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>ovs-vsctl show</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example OVS interfaces in a running cluster</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">9d9f5ea2-9d9d-4e34-bbd2-dbac154fdc93
    Bridge br-ex
        Port br-ex
            Interface br-ex
                type: internal
        Port patch-br-ex_localhost.localdomain-to-br-int <i class="conum" data-value="1"></i><b>(1)</b>
            Interface patch-br-ex_localhost.localdomain-to-br-int
                type: patch
                options: {peer=patch-br-int-to-br-ex_localhost.localdomain} <i class="conum" data-value="2"></i><b>(2)</b>
    Bridge br-int
        fail_mode: secure
        datapath_type: system
        Port patch-br-int-to-br-ex_localhost.localdomain
            Interface patch-br-int-to-br-ex_localhost.localdomain
                type: patch
                options: {peer=patch-br-ex_localhost.localdomain-to-br-int}
        Port eebee1ce5568761
            Interface eebee1ce5568761 <i class="conum" data-value="3"></i><b>(3)</b>
        Port b47b1995ada84f4
            Interface b47b1995ada84f4 <i class="conum" data-value="4"></i><b>(4)</b>
        Port "3031f43d67c167f"
            Interface "3031f43d67c167f" <i class="conum" data-value="5"></i><b>(5)</b>
        Port br-int
            Interface br-int
                type: internal
        Port ovn-k8s-mp0 <i class="conum" data-value="6"></i><b>(6)</b>
            Interface ovn-k8s-mp0
                type: internal
    ovs_version: "2.17.3"</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>patch-br-ex_localhost.localdomain-to-br-int</code> and <code>patch-br-int-to-br-ex_localhost.localdomain</code> are OVS patch ports that connect <code>br-ex</code> and <code>br-int</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>patch-br-ex_localhost.localdomain-to-br-int</code> and <code>patch-br-int-to-br-ex_localhost.localdomain</code> are OVS patch ports that connect <code>br-ex</code> and <code>br-int</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The pod interface <code>eebee1ce5568761</code> is named with the first 15 bits of the pod sandbox ID and is plugged into the <code>br-int</code> bridge.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The pod interface <code>b47b1995ada84f4</code> is named with the first 15 bits of the pod sandbox ID and is plugged into the <code>br-int</code> bridge.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The pod interface <code>3031f43d67c167f</code> is named with the first 15 bits of the pod sandbox ID and is plugged into the <code>br-int</code> bridge.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The OVS internal port for hairpin traffic,<code>ovn-k8s-mp0</code> is created by the <code>ovnkube-master</code> container.</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-about-load-balancer-service_microshift-networking"><a class="anchor" href="#microshift-about-load-balancer-service_microshift-networking"></a>The MicroShift LoadBalancer service for workloads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MicroShift has a built-in implementation of network load balancers that you can use for your workloads and applications within the cluster. You can create a <code>LoadBalancer</code> service by configuring a pod to interpret ingress rules and serve as an ingress controller. The following procedure gives an example of a deployment-based <code>LoadBalancer</code> service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-deploying-a-load-balancer_microshift-networking"><a class="anchor" href="#microshift-deploying-a-load-balancer_microshift-networking"></a>Deploying a load balancer for an application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following example procedure uses the node IP address as the external IP address for the <code>LoadBalancer</code> service configuration file. Use this example as guidance for how to deploy load balancers.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The OpenShift CLI (<code>oc</code>) is installed.</p>
</li>
<li>
<p>You installed a cluster on an infrastructure configured with the OVN-Kubernetes network plugin.</p>
</li>
<li>
<p>The <code>KUBECONFIG</code> environment variable is set.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Verify that your pods are running by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-A</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">NAMESPACE                            NAME                                                     READY   STATUS   RESTARTS  AGE
default                              i-06166fbb376f14a8bus-west-2computeinternal-debug-qtwcr  1/1     Running	   0		   46m
kube-system                          csi-snapshot-controller-5c6586d546-lprv4                 1/1     Running	   0		   51m
openshift-dns                        dns-default-45jl7                                        2/2     Running	   0		   50m
openshift-dns                        node-resolver-7wmzf                                      1/1     Running	   0		   51m
openshift-ingress                    router-default-78b86fbf9d-qvj9s                          1/1     Running 	 0		   51m
openshift-multus                     dhcp-daemon-j7qnf                                        1/1     Running    0		   51m
openshift-multus                     multus-r758z                                             1/1     Running    0		   51m
openshift-operator-lifecycle-manager catalog-operator-85fb86fcb9-t6zm7                        1/1     Running    0		   51m
openshift-operator-lifecycle-manager olm-operator-87656d995-fvz84                             1/1     Running    0		   51m
openshift-ovn-kubernetes             ovnkube-master-5rfhh                                     4/4     Running    0		   51m
openshift-ovn-kubernetes             ovnkube-node-gcnt6                                       1/1     Running    0		   51m
openshift-service-ca                 service-ca-bf5b7c9f8-pn6rk                               1/1     Running    0		   51m
openshift-storage                    topolvm-controller-549f7fbdd5-7vrmv                      5/5     Running    0		   51m
openshift-storage                    topolvm-node-rht2m                                       3/3     Running    0		   50m</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create a namespace by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nv">NAMESPACE</span><span class="o">=</span>&lt;nginx-lb-test&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace _&lt;nginx-lb-test&gt; with the application namespace that you want to create.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc create ns <span class="nv">$NAMESPACE</span></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Example namespace</div>
<p>The following example deploys three replicas of the test <code>nginx</code> application in the created namespace:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">oc apply -n $</span>NAMESPACE <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
</span><span class="go">apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx
data:
  headers.conf: |
</span><span class="gp">    add_header X-Server-IP  \$</span>server_addr always<span class="p">;</span>
<span class="go">---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - image: quay.io/packit/nginx-unprivileged
        imagePullPolicy: Always
        name: nginx
        ports:
        - containerPort: 8080
        volumeMounts:
        - name: nginx-configs
          subPath: headers.conf
          mountPath: /etc/nginx/conf.d/headers.conf
        securityContext:
          allowPrivilegeEscalation: false
          seccompProfile:
            type: RuntimeDefault
          capabilities:
            drop: ["ALL"]
          runAsNonRoot: true
      volumes:
        - name: nginx-configs
          configMap:
            name: nginx
            items:
              - key: headers.conf
                path: headers.conf
EOF</span></code></pre>
</div>
</div>
</li>
<li>
<p>You can verify that the three sample replicas started successfully by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-n</span> <span class="nv">$NAMESPACE</span></code></pre>
</div>
</div>
</li>
<li>
<p>Create a <code>LoadBalancer</code> service for the <code>nginx</code> test application by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">oc create -n $</span>NAMESPACE <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
</span><span class="go">apiVersion: v1
kind: Service
metadata:
  name: nginx
spec:
  ports:
  - port: 81
    targetPort: 8080
  selector:
    app: nginx
  type: LoadBalancer
EOF</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You must ensure that the <code>port</code> parameter is a host port that is not occupied by other <code>LoadBalancer</code> services or MicroShift components.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Verify that the service file exists, that the external IP address is properly assigned, and that the external IP is identical to the node IP by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get svc <span class="nt">-n</span> <span class="nv">$NAMESPACE</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">NAME    TYPE           CLUSTER-IP      EXTERNAL-IP     PORT(S)        AGE
nginx   LoadBalancer   10.43.183.104   192.168.1.241   81:32434/TCP   2m</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>The following command forms five connections to the example <code>nginx</code> application using the external IP address of the <code>LoadBalancer</code> service configuration. The result of the command is a list of those server IP addresses.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verify that the load balancer sends requests to all the running applications by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">EXTERNAL_IP=192.168.1.241
</span><span class="gp">seq 5 | xargs -Iz curl -s -I http://$</span>EXTERNAL_IP:81 | <span class="nb">grep </span>X-Server-IP</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of the previous command contains different IP addresses if the <code>LoadBalancer</code> service is successfully distributing the traffic to the applications, for example:</p>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">X-Server-IP: 10.42.0.41
X-Server-IP: 10.42.0.41
X-Server-IP: 10.42.0.43
X-Server-IP: 10.42.0.41
X-Server-IP: 10.42.0.43</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-blocking-nodeport-access_microshift-networking"><a class="anchor" href="#microshift-blocking-nodeport-access_microshift-networking"></a>Blocking external access to the NodePort service on a specific host interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OVN-Kubernetes does not restrict the host interface where a NodePort service can be accessed from outside a Red Hat build of MicroShift node. The following procedure explains how to block the NodePort service on a specific host interface and restrict external access.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have an account with root privileges.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Change the <code>NODEPORT</code> variable to the host port number assigned to your Kubernetes NodePort service by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">#</span><span class="w"> </span><span class="nb">export </span><span class="nv">NODEPORT</span><span class="o">=</span>30700</code></pre>
</div>
</div>
</li>
<li>
<p>Change the <code>INTERFACE_IP</code> value to the IP address from the host interface that you want to block. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">#</span><span class="w"> </span><span class="nb">export </span><span class="nv">INTERFACE_IP</span><span class="o">=</span>192.168.150.33</code></pre>
</div>
</div>
</li>
<li>
<p>Insert a new rule in the <code>nat</code> table PREROUTING chain to drop all packets that match the destination port and IP address. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>nft <span class="nt">-a</span> insert rule ip nat PREROUTING tcp dport <span class="nv">$NODEPORT</span> ip daddr <span class="nv">$INTERFACE_IP</span> drop</code></pre>
</div>
</div>
</li>
<li>
<p>List the new rule by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>nft <span class="nt">-a</span> list chain ip nat PREROUTING
<span class="go">table ip nat {
</span><span class="gp">	chain PREROUTING { #</span><span class="w"> </span>handle 1
<span class="gp">		type nat hook prerouting priority dstnat;</span><span class="w"> </span>policy accept<span class="p">;</span>
<span class="gp">		tcp dport 30700 ip daddr 192.168.150.33 drop #</span><span class="w"> </span>handle 134
<span class="gp">		counter packets 108 bytes 18074 jump OVN-KUBE-ETP #</span><span class="w"> </span>handle 116
<span class="gp">		counter packets 108 bytes 18074 jump OVN-KUBE-EXTERNALIP #</span><span class="w"> </span>handle 114
<span class="gp">		counter packets 108 bytes 18074 jump OVN-KUBE-NODEPORT #</span><span class="w"> </span>handle 112
<span class="go">	}
}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Note the <code>handle</code> number of the newly added rule. You need to remove the <code>handle</code> number in the following step.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Remove the custom rule with the following sample command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>nft <span class="nt">-a</span> delete rule ip nat PREROUTING handle 134</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-mDNS_microshift-networking"><a class="anchor" href="#microshift-mDNS_microshift-networking"></a>The multicast DNS protocol</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the multicast DNS protocol (mDNS) to allow name resolution and service discovery within a Local Area Network (LAN) using multicast exposed on the <code>5353/UDP</code> port.</p>
</div>
<div class="paragraph">
<p>MicroShift includes an embedded mDNS server for deployment scenarios in which the authoritative DNS server cannot be reconfigured to point clients to services on MicroShift. The embedded DNS server allows <code>.local</code> domains exposed by MicroShift to be discovered by other elements on the LAN.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-exposed-audit-ports_microshift-networking"><a class="anchor" href="#microshift-exposed-audit-ports_microshift-networking"></a>Auditing exposed network ports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On MicroShift, the host port can be opened by a workload in the following cases. You can check logs to view the network services.</p>
</div>
<div class="sect2">
<h3 id="microshift-exposed-audit-ports-hostnetwork_microshift-networking"><a class="anchor" href="#microshift-exposed-audit-ports-hostnetwork_microshift-networking"></a>hostNetwork</h3>
<div class="paragraph">
<p>When a pod is configured with the <code>hostNetwork:true</code> setting, the pod is running in the host network namespace. This configuration can independently open host ports. MicroShift component logs cannot be used to track this case, the ports are subject to firewalld rules. If the port opens in firewalld, you can view the port opening in the firewalld debug log.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have root user access to your build host.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Optional: You can check that the <code>hostNetwork:true</code> parameter is set in your ovnkube-node pod by using the following example command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>oc get pod <span class="nt">-n</span> openshift-ovn-kubernetes &lt;ovnkube-node-pod-name&gt; <span class="nt">-o</span> json | jq <span class="nt">-r</span> <span class="s1">'.spec.hostNetwork'</span> <span class="nb">true</span></code></pre>
</div>
</div>
</li>
<li>
<p>Enable debug in the firewalld log by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>vi /etc/sysconfig/firewalld
<span class="go">FIREWALLD_ARGS=--debug=10</span></code></pre>
</div>
</div>
</li>
<li>
<p>Restart the firewalld service:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl restart firewalld.service</code></pre>
</div>
</div>
</li>
<li>
<p>To verify that the debug option was added properly, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemd-cgls <span class="nt">-u</span> firewalld.service</code></pre>
</div>
</div>
<div class="paragraph">
<p>The firewalld debug log is stored in the <code>/var/log/firewalld</code> path.</p>
</div>
<div class="listingblock">
<div class="title">Example logs for when the port open rule is added</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">2023-06-28 10:46:37 DEBUG1: config.getZoneByName('public')
2023-06-28 10:46:37 DEBUG1: config.zone.7.addPort('8080', 'tcp')
2023-06-28 10:46:37 DEBUG1: config.zone.7.getSettings()
2023-06-28 10:46:37 DEBUG1: config.zone.7.update('...')
2023-06-28 10:46:37 DEBUG1: config.zone.7.Updated('public')</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example logs for when the port open rule is removed</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">2023-06-28 10:47:57 DEBUG1: config.getZoneByName('public')
2023-06-28 10:47:57 DEBUG2: config.zone.7.Introspect()
2023-06-28 10:47:57 DEBUG1: config.zone.7.removePort('8080', 'tcp')
2023-06-28 10:47:57 DEBUG1: config.zone.7.getSettings()
2023-06-28 10:47:57 DEBUG1: config.zone.7.update('...')
2023-06-28 10:47:57 DEBUG1: config.zone.7.Updated('public')</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="microshift-exposed-audit-ports-hostport_microshift-networking"><a class="anchor" href="#microshift-exposed-audit-ports-hostport_microshift-networking"></a>hostPort</h3>
<div class="paragraph">
<p>You can access the hostPort setting logs in MicroShift. The following logs are examples for the hostPort setting:</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>You can access the logs by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>journalctl <span class="nt">-u</span> crio | <span class="nb">grep</span> <span class="s2">"local port"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example CRI-O logs when the host port is opened</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>Jun 25 16:27:37 rhel92 crio[77216]: <span class="nb">time</span><span class="o">=</span><span class="s2">"2023-06-25 16:27:37.033003098+08:00"</span> <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span><span class="s2">"Opened local port tcp:443"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example CRI-O logs when the host port is closed</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>Jun 25 16:24:11 rhel92 crio[77216]: <span class="nb">time</span><span class="o">=</span><span class="s2">"2023-06-25 16:24:11.342088450+08:00"</span> <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span><span class="s2">"Closing host port tcp:443"</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="microshift-exposed-audit-ports-loadbalancer_microshift-networking"><a class="anchor" href="#microshift-exposed-audit-ports-loadbalancer_microshift-networking"></a>NodePort and LoadBalancer services</h3>
<div class="paragraph">
<p>OVN-Kubernetes opens host ports for <code>NodePort</code> and <code>LoadBalancer</code> service types. These services add iptables rules that take the ingress traffic from the host port and forwards it to the clusterIP. Logs for the <code>NodePort</code> and <code>LoadBalancer</code> services are presented in the following examples:</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To access the name of your <code>ovnkube-master</code> pods, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-n</span> openshift-ovn-kubernetes | <span class="nb">awk</span> <span class="s1">'/ovnkube-master/{print $1}'</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example <code>ovnkube-master</code> pod name</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">ovnkube-master-n2shv</span></code></pre>
</div>
</div>
</li>
<li>
<p>You can access the <code>NodePort</code> and <code>LoadBalancer</code> services logs using your <code>ovnkube-master</code> pod and running the following example command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc logs <span class="nt">-n</span> openshift-ovn-kubernetes &lt;ovnkube-master-pod-name&gt; ovnkube-master | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"OVN-KUBE-NODEPORT|OVN-KUBE-EXTERNALIP"</span></code></pre>
</div>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p><strong>NodePort service:</strong></p>
</div>
<div class="listingblock">
<div class="title">Example logs in the ovnkube-master container of the ovnkube-master pod when a host port is open</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>I0625 09:07:00.992980 2118395 iptables.go:27] Adding rule <span class="k">in </span>table: nat, chain: OVN-KUBE-NODEPORT with args: <span class="s2">"-p TCP -m addrtype --dst-type LOCAL --dport 32718 -j DNAT --to-destination 10.96.178.142:8081"</span> <span class="k">for </span>protocol: 0</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example logs in the ovnkube-master container of the ovnkube-master pod when a host port is closed</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>Deleting rule <span class="k">in </span>table: nat, chain: OVN-KUBE-NODEPORT with args: <span class="s2">"-p TCP -m addrtype --dst-type LOCAL --dport 32718 -j DNAT --to-destination 10.96.178.142:8081"</span> <span class="k">for </span>protocol: 0</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>LoadBalancer service:</strong></p>
</div>
<div class="listingblock">
<div class="title">Example logs in the ovnkube-master container of the ovnkube-master pod when a host port is open</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>I0625 09:34:10.406067  128902 iptables.go:27] Adding rule <span class="k">in </span>table: nat, chain: OVN-KUBE-EXTERNALIP with args: <span class="s2">"-p TCP -d 172.16.47.129 --dport 8081 -j DNAT --to-destination 10.43.114.94:8081"</span> <span class="k">for </span>protocol: 0</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example logs in the ovnkube-master container of the ovnkube-master pod when a host port is closed</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>I0625 09:37:00.976953  128902 iptables.go:63] Deleting rule <span class="k">in </span>table: nat, chain: OVN-KUBE-EXTERNALIP with args: <span class="s2">"-p TCP -d 172.16.47.129 --dport 8081 -j DNAT --to-destination 10.43.114.94:8081"</span> <span class="k">for </span>protocol: 0</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'microshift';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-telco': ['docs_telco', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version],
    'openshift-serverless' : ['docs_serverless', version],
    'openshift-pipelines' : ['docs_pipelines', version],
    'openshift-builds' : ['docs_builds', version],
    'openshift-gitops' : ['docs_gitops', version],
    'openshift-lightspeed' : ['docs_lightspeed', version],
    'openshift-service-mesh' : ['docs_service_mesh', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.net/content/img/Logo-Red_Hat-OpenShift-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright © 2025 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

  <!-- hide footer after 3 seconds -->
  <script type="text/javascript">
    const hideFooter = () => {
      document.querySelector('footer#rh, footer.footer-origin-docs').style.display = "none";
    };

    window.addEventListener('load', function() {
      setTimeout(hideFooter, 3000);
    });
  </script>
</body>
</html>