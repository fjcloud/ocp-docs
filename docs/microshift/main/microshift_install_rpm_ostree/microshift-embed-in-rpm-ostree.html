

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>Embedding in a RHEL for Edge image using image builder | Embedding in a RHEL for Edge image | Red Hat build of MicroShift Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.okd.io/latest/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      
      <span>
        <div class="alert alert-info" role="primary" id="support-info">
          <strong>Starting on March 12, 2025, OpenShift docs will only be available at <a href="https://docs.redhat.com/en/" style="color: #0C5460 !important" class="link-primary">docs.redhat.com</a>. From that time on, docs.openshift.com links will automatically redirect to their locations on docs.redhat.com.
          </strong>
        </div>
      </span>
      

      

      

      

      

      

      

      
      

      

      


      

      


      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          <a href="../microshift_welcome/index.html">Red Hat build of MicroShift Branch Build</a>
        
      </li>
      <li class="hidden-xs active">
        <a href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.html">Embedding in a RHEL for Edge image</a>
      </li>
      
      
      <li class="hidden-xs active">
        Embedding in a RHEL for Edge image using image builder
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/main/microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12332330&issuetype=1&components=12367614&priority=4&summary=[microshift-Branch Build]+Issue+in+file+microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-right"></span>Understanding MicroShift</a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_welcome/index.html">Understanding Red Hat build of MicroShift</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1"><span id="tgSpan1" class="fa fa-angle-right"></span>Red Hat build of MicroShift release notes</a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_release_notes/microshift-4-19-release-notes.html">Red Hat build of MicroShift 4.19 release notes</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2"><span id="tgSpan2" class="fa fa-angle-right"></span>Getting ready to install MicroShift</a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_get_ready/microshift-install-get-ready.html">Getting ready to install MicroShift</a></li>
            <li><a class="" href="../microshift_install_get_ready/microshift-fips.html">Using FIPS mode</a></li>
            <li><a class="" href="../microshift_install_get_ready/microshift-greenboot.html">Understanding system health checks</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3"><span id="tgSpan3" class="fa fa-angle-right"></span>Installing with an RPM package</a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm/microshift-install-rpm.html">Installing with an RPM package</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4"><span id="tgSpan4" class="fa fa-angle-right"></span>Installing optional RPM packages</a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_rpm_opt/microshift-install-optional-rpms.html">Installing optional RPM packages</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5"><span id="tgSpan5" class="fa fa-angle-down"></span>Embedding in a RHEL for Edge image</a>
      <ul id="topicGroup5" class="collapse in list-unstyled">
            <li><a class=" active" href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.html">Embedding in a RHEL for Edge image using image builder</a></li>
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-deploy-with-mirror-registry.html">Mirroring container images for disconnected installations</a></li>
            <li><a class="" href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree-offline-use.html">Embedding in a RHEL for Edge image for offline use</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6"><span id="tgSpan6" class="fa fa-angle-right"></span>Installing with RHEL image mode</a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_bootc/microshift-about-rhel-image-mode.html">Understanding image mode for RHEL</a></li>
            <li><a class="" href="../microshift_install_bootc/microshift-install-bootc-image.html">Installing a bootc image</a></li>
            <li><a class="" href="../microshift_install_bootc/microshift-install-running-bootc-image-vm.html">Running the bootc image</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7"><span id="tgSpan7" class="fa fa-angle-right"></span>Using RHEL Kickstarts</a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_install_kickstarts/microshift-rhel-kickstarts.html">Using a Kickstart file for automating installation</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8"><span id="tgSpan8" class="fa fa-angle-right"></span>Updating</a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_updating/microshift-update-options.html">Update options</a></li>
            <li><a class="" href="../microshift_updating/microshift-update-rpms-ostree.html">Updates with rpm-ostree systems</a></li>
            <li><a class="" href="../microshift_updating/microshift-update-rpms-manually.html">Manual updates with RPMs</a></li>
            <li><a class="" href="../microshift_updating/microshift-list-update-contents.html">Listing update package contents</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9"><span id="tgSpan9" class="fa fa-angle-right"></span>Support</a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_support/microshift-etcd.html">The etcd service</a></li>
            <li><a class="" href="../microshift_support/microshift-sos-report.html">The sos report tool</a></li>
            <li><a class="" href="../microshift_support/microshift-getting-cluster-id.html">Getting your cluster ID</a></li>
            <li><a class="" href="../microshift_support/microshift-getting-support.html">Getting support</a></li>
            <li><a class="" href="../microshift_support/microshift-remote-cluster-monitoring.html">Remote health monitoring with a connected cluster</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10"><span id="tgSpan10" class="fa fa-angle-right"></span>Configuring</a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_configuring/microshift-using-config-yaml.html">Using the MicroShift configuration file</a></li>
            <li><a class="" href="../microshift_configuring/microshift-nw-ipv6-config.html">Configuring IPv6 networking</a></li>
            <li><a class="" href="../microshift_configuring/microshift-ingress-controller.html">Using ingress control for a MicroShift cluster</a></li>
            <li><a class="" href="../microshift_configuring/microshift-disable-lvms-csi-provider-csi-snapshot.html">Disabling LVMS CSI provider and CSI snapshot</a></li>
            <li><a class="" href="../microshift_configuring/microshift-greenboot-checking-status.html">Checking the status of Greenboot health checks</a></li>
            <li><a class="" href="../microshift_configuring/microshift-cluster-access-kubeconfig.html">Cluster access with kubeconfig</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-6"><span id="sgSpan-10-6" class="fa fa-caret-right"></span>&nbsp;Configuring MicroShift authentication and security</a>
              <ul id="topicSubGroup-10-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-custom-ca.html">Using custom certificate authorities</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-tls-config.html">Configuring TLS security profiles</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_auth_security/microshift-audit-logs-config.html">Configuring audit logging policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-7"><span id="sgSpan-10-7" class="fa fa-caret-right"></span>&nbsp;Configuring low latency</a>
              <ul id="topicSubGroup-10-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_configuring/microshift_low_latency/microshift-low-latency.html">Configuring low latency</a></li>
                  <li><a class="" href="../microshift_configuring/microshift_low_latency/microshift-workload-partitioning.html">Workload partitioning</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11"><span id="tgSpan11" class="fa fa-angle-right"></span>Networking</a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_networking/microshift-cni.html">About the networking plugin</a></li>
            <li><a class="" href="../microshift_networking/microshift-networking-settings.html">Using networking settings</a></li>
            <li><a class="" href="../microshift_networking/microshift-nw-router.html">Configuring the router</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-3"><span id="sgSpan-11-3" class="fa fa-caret-right"></span>&nbsp;Network policies</a>
              <ul id="topicSubGroup-11-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-network-policy-index.html">About network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-creating-network-policy.html">Creating network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-editing-network-policy.html">Editing network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-deleting-network-policy.html">Deleting network policies</a></li>
                  <li><a class="" href="../microshift_networking/microshift_network_policy/microshift-viewing-network-policy.html">Viewing network policies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-4"><span id="sgSpan-11-4" class="fa fa-caret-right"></span>&nbsp;Multiple networks</a>
              <ul id="topicSubGroup-11-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_networking/microshift_multiple_networks/microshift-cni-multus.html">About using multiple networks</a></li>
                  <li><a class="" href="../microshift_networking/microshift_multiple_networks/microshift-cni-multus-using.html">Configuring and using multiple networks</a></li>              </ul>
            </li>
            <li><a class="" href="../microshift_networking/microshift-configuring-routes.html">Configuring routes</a></li>
            <li><a class="" href="../microshift_networking/microshift-firewall.html">Firewall configuration</a></li>
            <li><a class="" href="../microshift_networking/microshift-disconnected-network-config.html">Networking settings for fully disconnected hosts</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12"><span id="tgSpan12" class="fa fa-angle-right"></span>Storage</a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_storage/index.html">About storage</a></li>
            <li><a class="" href="../microshift_storage/understanding-ephemeral-storage-microshift.html">Understanding ephemeral storage</a></li>
            <li><a class="" href="../microshift_storage/generic-ephemeral-volumes-microshift.html">Generic ephemeral volumes</a></li>
            <li><a class="" href="../microshift_storage/understanding-persistent-storage-microshift.html">Understanding persistent storage</a></li>
            <li><a class="" href="../microshift_storage/expanding-persistent-volumes-microshift.html">Expanding persistent volumes</a></li>
            <li><a class="" href="../microshift_storage/microshift-storage-plugin-overview.html">Dynamic storage using the LVMS plugin</a></li>
            <li><a class="" href="../microshift_storage/volume-snapshots-microshift.html">Working with volume snapshots</a></li>
            <li><a class="" href="../microshift_storage/microshift-storage-migration.html">Understanding storage migration</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13"><span id="tgSpan13" class="fa fa-angle-right"></span>Running applications</a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_running_apps/microshift-applications.html">Using Kustomize to deploy applications</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-deleting-resource-manifests.html">Deleting or updating Kustomize manifest resources</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embedded-apps-on-rhel-edge.html">Embedding applications on RHEL for Edge</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embed-apps-offline-use.html">Embedding applications for offline use</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-embedding-apps-tutorial.html">Embedding applications tutorial</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-greenboot-workload-scripts.html">Creating application or workload health check scripts</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-gitops.html">Automating application management with GitOps</a></li>
            <li><a class="" href="../microshift_running_apps/microshift-authentication.html">Pod security authentication and authorization</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-8"><span id="sgSpan-13-8" class="fa fa-caret-right"></span>&nbsp;Operators</a>
              <ul id="topicSubGroup-13-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators.html">Using Operators</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-olm.html">Using Operator Lifecycle Manager</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-oc-mirror.html">Creating custom catalogs with oc-mirror</a></li>
                  <li><a class="" href="../microshift_running_apps/microshift_operators/microshift-operators-oc-mirror-disconnected.html">Adding OLM-based Operators to a disconnected cluster</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14"><span id="tgSpan14" class="fa fa-angle-right"></span>Backup and restore</a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_backup_and_restore/microshift-backup-and-restore.html">Backing up and restoring data</a></li>
            <li><a class="" href="../microshift_backup_and_restore/microshift-auto-recover-manual-backup.html">Automated recovery from manual backups</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup15"><span id="tgSpan15" class="fa fa-angle-right"></span>Troubleshooting</a>
      <ul id="topicGroup15" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_troubleshooting/microshift-version.html">Check your version</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-cluster.html">Troubleshoot the cluster</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-installing-troubleshooting.html">Troubleshoot installation issues</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-backup-restore.html">Troubleshoot backup and restore</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-troubleshoot-updates.html">Troubleshoot updates</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-audit-logs.html">Check the audit logs</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-etcd-troubleshoot.html">Troubleshoot etcd</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-things-to-know.html">Additional information</a></li>
            <li><a class="" href="../microshift_troubleshooting/microshift-cleanup-data.html">Data cleanup</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup16"><span id="tgSpan16" class="fa fa-angle-right"></span>CLI tools</a>
      <ul id="topicGroup16" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_cli_ref/microshift-cli-tools-introduction.html">CLI tools introduction</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-cli-install.html">Installing the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-config.html">Configuring the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-cli-using-oc.html">Using the OpenShift CLI</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-usage-oc-kubectl.html">Using oc and kubectl</a></li>
            <li><a class="" href="../microshift_cli_ref/microshift-oc-cli-commands-list.html">List of oc CLI commands</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup17"><span id="tgSpan17" class="fa fa-angle-right"></span>API reference</a>
      <ul id="topicGroup17" class="collapse  list-unstyled">
            <li><a class="" href="../microshift_rest_api/understanding-api-support-tiers.html">Understanding API tiers</a></li>
            <li><a class="" href="../microshift_rest_api/understanding-compatibility-guidelines.html">API compatibility guidelines</a></li>
            <li><a class="" href="../microshift_rest_api/index.html">API index</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-3"><span id="sgSpan-17-3" class="fa fa-caret-right"></span>&nbsp;API object reference</a>
              <ul id="topicSubGroup-17-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/objects/index.html">API objects reference</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-4"><span id="sgSpan-17-4" class="fa fa-caret-right"></span>&nbsp;Extension APIs</a>
              <ul id="topicSubGroup-17-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/api_extensions_apis/api-extensions-apis-index.html">Extension APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/api_extensions_apis/customresourcedefinition-apiextensions-k8s-io-v1.html">CustomResourceDefinition [apiextensions.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-5"><span id="sgSpan-17-5" class="fa fa-caret-right"></span>&nbsp;Registration APIs</a>
              <ul id="topicSubGroup-17-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/api_registration_apis/api-registration-apis-index.html">Registration APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/api_registration_apis/apiservice-apiregistration-k8s-io-v1.html">APIService [apiregistration.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-6"><span id="sgSpan-17-6" class="fa fa-caret-right"></span>&nbsp;Apps APIs</a>
              <ul id="topicSubGroup-17-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/apps_apis/apps-apis-index.html">Apps APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/controllerrevision-apps-v1.html">ControllerRevision [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/daemonset-apps-v1.html">DaemonSet [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/deployment-apps-v1.html">Deployment [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/replicaset-apps-v1.html">ReplicaSet [apps/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/apps_apis/statefulset-apps-v1.html">StatefulSet [apps/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-7"><span id="sgSpan-17-7" class="fa fa-caret-right"></span>&nbsp;Authentication APIs</a>
              <ul id="topicSubGroup-17-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/authentication_apis/authentication-apis-index.html">Authentication APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/authentication_apis/tokenrequest-authentication-k8s-io-v1.html">TokenRequest [authentication.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authentication_apis/tokenreview-authentication-k8s-io-v1.html">TokenReview [authentication.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-8"><span id="sgSpan-17-8" class="fa fa-caret-right"></span>&nbsp;Authorization APIs</a>
              <ul id="topicSubGroup-17-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/authorization_apis/authorization-apis-index.html">Authorization APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/localsubjectaccessreview-authorization-k8s-io-v1.html">LocalSubjectAccessReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/selfsubjectaccessreview-authorization-k8s-io-v1.html">SelfSubjectAccessReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/selfsubjectrulesreview-authorization-k8s-io-v1.html">SelfSubjectRulesReview [authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/authorization_apis/subjectaccessreview-authorization-k8s-io-v1.html">SubjectAccessReview [authorization.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-9"><span id="sgSpan-17-9" class="fa fa-caret-right"></span>&nbsp;Autoscaling APIs</a>
              <ul id="topicSubGroup-17-9" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/autoscaling-apis-index.html">Autoscaling APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/horizontalpodautoscaler-autoscaling-v2.html">HorizontalPodAutoscaler [autoscaling/v2]</a></li>
                  <li><a class="" href="../microshift_rest_api/autoscaling_apis/scale-autoscaling-v1.html">Scale [autoscaling/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-10"><span id="sgSpan-17-10" class="fa fa-caret-right"></span>&nbsp;Batch APIs</a>
              <ul id="topicSubGroup-17-10" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/batch_apis/batch-apis-index.html">Batch APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/batch_apis/cronjob-batch-v1.html">CronJob [batch/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/batch_apis/job-batch-v1.html">Job [batch/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-11"><span id="sgSpan-17-11" class="fa fa-caret-right"></span>&nbsp;Certificates APIs</a>
              <ul id="topicSubGroup-17-11" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/certificates_apis/certificates-apis-index.html">Certificates APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/certificates_apis/certificatesigningrequest-certificates-k8s-io-v1.html">CertificateSigningRequest [certificates.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-12"><span id="sgSpan-17-12" class="fa fa-caret-right"></span>&nbsp;Coordination APIs</a>
              <ul id="topicSubGroup-17-12" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/coordination_apis/coordination-apis-index.html">Coordination APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/coordination_apis/lease-coordination-k8s-io-v1.html">Lease [coordination.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-13"><span id="sgSpan-17-13" class="fa fa-caret-right"></span>&nbsp;Core APIs</a>
              <ul id="topicSubGroup-17-13" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/core_apis/core-apis-index.html">Core APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/binding-v1.html">Binding [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/componentstatus-v1.html">ComponentStatus [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/configmap-v1.html">ConfigMap [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/endpoints-v1.html">Endpoints [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/event-v1.html">Event [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/limitrange-v1.html">LimitRange [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/namespace-v1.html">Namespace [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/node-v1.html">Node [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/persistentvolume-v1.html">PersistentVolume [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/persistentvolumeclaim-v1.html">PersistentVolumeClaim [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/pod-v1.html">Pod [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/podtemplate-v1.html">PodTemplate [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/replicationcontroller-v1.html">ReplicationController [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/resourcequota-v1.html">ResourceQuota [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/secret-v1.html">Secret [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/service-v1.html">Service [v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/core_apis/serviceaccount-v1.html">ServiceAccount [v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-14"><span id="sgSpan-17-14" class="fa fa-caret-right"></span>&nbsp;Discovery APIs</a>
              <ul id="topicSubGroup-17-14" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/discovery_apis/discovery-apis-index.html">Discovery APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/discovery_apis/endpointslice-discovery-k8s-io-v1.html">EndpointSlice [discovery.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-15"><span id="sgSpan-17-15" class="fa fa-caret-right"></span>&nbsp;Events APIs</a>
              <ul id="topicSubGroup-17-15" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/events_apis/events-apis-index.html">Events APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/events_apis/event-events-k8s-io-v1.html">Event [events.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-16"><span id="sgSpan-17-16" class="fa fa-caret-right"></span>&nbsp;Flow Control APIs</a>
              <ul id="topicSubGroup-17-16" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/flow_control_apis/flow-control-apis-index.html">Flow Control APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/flow_control_apis/flowschema-flowcontrol-apiserver-k8s-io-v1beta3.html">FlowSchema [flowcontrol.apiserver.k8s.io/v1beta3]</a></li>
                  <li><a class="" href="../microshift_rest_api/flow_control_apis/prioritylevelconfiguration-flowcontrol-apiserver-k8s-io-v1beta3.html">PriorityLevelConfiguration [flowcontrol.apiserver.k8s.io/v1beta3]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-17"><span id="sgSpan-17-17" class="fa fa-caret-right"></span>&nbsp;Networking APIs</a>
              <ul id="topicSubGroup-17-17" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/networking_apis/networking-apis-index.html">Networking APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/ingress-networking-k8s-io-v1.html">Ingress [networking.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/ingressclass-networking-k8s-io-v1.html">IngressClass [networking.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/networking_apis/networkpolicy-networking-k8s-io-v1.html">NetworkPolicy [networking.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-18"><span id="sgSpan-17-18" class="fa fa-caret-right"></span>&nbsp;Node APIs</a>
              <ul id="topicSubGroup-17-18" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/node_apis/node-apis-index.html">Node APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/node_apis/runtimeclass-node-k8s-io-v1.html">RuntimeClass [node.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-19"><span id="sgSpan-17-19" class="fa fa-caret-right"></span>&nbsp;Policy APIs</a>
              <ul id="topicSubGroup-17-19" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/policy_apis/policy-apis-index.html">Policy APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/policy_apis/eviction-policy-v1.html">Eviction [policy/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/policy_apis/poddisruptionbudget-policy-v1.html">PodDisruptionBudget [policy/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-20"><span id="sgSpan-17-20" class="fa fa-caret-right"></span>&nbsp;RBAC APIs</a>
              <ul id="topicSubGroup-17-20" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/rbac_apis/rbac-apis-index.html">RBAC APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/clusterrole-rbac-authorization-k8s-io-v1.html">ClusterRole [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/clusterrolebinding-rbac-authorization-k8s-io-v1.html">ClusterRoleBinding [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/role-rbac-authorization-k8s-io-v1.html">Role [rbac.authorization.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/rbac_apis/rolebinding-rbac-authorization-k8s-io-v1.html">RoleBinding [rbac.authorization.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-21"><span id="sgSpan-17-21" class="fa fa-caret-right"></span>&nbsp;Network APIs</a>
              <ul id="topicSubGroup-17-21" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/network_apis/network-apis-index.html">Network APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/network_apis/route-route-openshift-io-v1.html">Route [route.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-22"><span id="sgSpan-17-22" class="fa fa-caret-right"></span>&nbsp;Scheduling APIs</a>
              <ul id="topicSubGroup-17-22" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/scheduling_apis/scheduling-apis-index.html">Scheduling APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/scheduling_apis/priorityclass-scheduling-k8s-io-v1.html">PriorityClass [scheduling.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-23"><span id="sgSpan-17-23" class="fa fa-caret-right"></span>&nbsp;Security APIs</a>
              <ul id="topicSubGroup-17-23" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/security_apis/security-apis-index.html">Security APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/security_apis/securitycontextconstraints-security-openshift-io-v1.html">SecurityContextConstraints [security.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-24"><span id="sgSpan-17-24" class="fa fa-caret-right"></span>&nbsp;Security-Internal APIs</a>
              <ul id="topicSubGroup-17-24" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/security_internal_apis/security-internal-apis-index.html">Security Internal APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/security_internal_apis/rangeallocation-security-internal-openshift-io-v1.html">RangeAllocation [security.internal.openshift.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-25"><span id="sgSpan-17-25" class="fa fa-caret-right"></span>&nbsp;Snapshot APIs</a>
              <ul id="topicSubGroup-17-25" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/snapshot_apis/snapshot-apis-index.html">CSI Snapshot APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshot-snapshot-storage-k8s-io-v1.html">VolumeSnapshot [snapshot.storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshotclass-snapshot-storage-k8s-io-v1.html">VolumeSnapshotClass [snapshot.storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/snapshot_apis/volumesnapshotcontent-snapshot-storage-k8s-io-v1.html">VolumeSnapshotContent [snapshot.storage.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-26"><span id="sgSpan-17-26" class="fa fa-caret-right"></span>&nbsp;Storage APIs</a>
              <ul id="topicSubGroup-17-26" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/storage_apis/storage-apis-index.html">Storage APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csidriver-storage-k8s-io-v1.html">CSIDriver [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csinode-storage-k8s-io-v1.html">CSINode [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/csistoragecapacity-storage-k8s-io-v1.html">CSIStorageCapacity [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/storageclass-storage-k8s-io-v1.html">StorageClass [storage.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_apis/volumeattachment-storage-k8s-io-v1.html">VolumeAttachment [storage.k8s.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-27"><span id="sgSpan-17-27" class="fa fa-caret-right"></span>&nbsp;Storage Version Migration APIs</a>
              <ul id="topicSubGroup-17-27" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/storage_version_migration_apis/storage-version-migration-apis-index.html">Storage Version Migration APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/storage_version_migration_apis/storageversionmigration-migration-k8s-io-v1alpha1.html">StorageVersionMigration [migration.k8s.io/v1alpha1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-28"><span id="sgSpan-17-28" class="fa fa-caret-right"></span>&nbsp;TopoLVM APIs</a>
              <ul id="topicSubGroup-17-28" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/topolvm_apis/topolvm-apis-index.html">TopoLVM APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/topolvm_apis/logicalvolume-topolvm-io-v1.html">LogicalVolume [topolvm.io/v1]</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-29"><span id="sgSpan-17-29" class="fa fa-caret-right"></span>&nbsp;Webhook APIs</a>
              <ul id="topicSubGroup-17-29" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../microshift_rest_api/webhook_apis/webhook-apis-index.html">Webhook APIs</a></li>
                  <li><a class="" href="../microshift_rest_api/webhook_apis/mutatingwebhookconfiguration-admissionregistration-k8s-io-v1.html">MutatingWebhookConfiguration [admissionregistration.k8s.io/v1]</a></li>
                  <li><a class="" href="../microshift_rest_api/webhook_apis/validatingwebhookconfiguration-admissionregistration-k8s-io-v1.html">ValidatingWebhookConfiguration [admissionregistration.k8s.io/v1]</a></li>              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Embedding in a RHEL for Edge image using image builder
          </h1>
        </div>
        
        
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#preparing-for-image-building_microshift-embed-in-rpm-ostree">Preparing for image building</a></li>
<li><a href="#microshift-enable-eus-repos_microshift-embed-in-rpm-ostree">Enabling extended support repositories for image building</a></li>
<li><a href="#adding-microshift-repos-image-builder_microshift-embed-in-rpm-ostree">Adding MicroShift repositories to image builder</a></li>
<li><a href="#adding-microshift-service-to-blueprint_microshift-embed-in-rpm-ostree">Adding the MicroShift service to a blueprint</a></li>
<li><a href="#microshift-adding-other-services-to-blueprint_microshift-embed-in-rpm-ostree">Adding other packages to a blueprint</a></li>
<li><a href="#microshift-ca-adding-bundle_microshift-embed-in-rpm-ostree">Adding a certificate authority bundle</a>
<ul class="sectlevel2">
<li><a href="#microshift-ca-adding-bundle-ostree_microshift-embed-in-rpm-ostree">Adding a certificate authority bundle to an rpm-ostree image</a></li>
</ul>
</li>
<li><a href="#microshift-creating-ostree-iso_microshift-embed-in-rpm-ostree">Creating the RHEL for Edge image with image builder</a></li>
<li><a href="#microshift-add-blueprint-build-iso_microshift-embed-in-rpm-ostree">Add the blueprint to image builder and build the ISO</a></li>
<li><a href="#microshift-download-iso-prep-for-use_microshift-embed-in-rpm-ostree">Download the ISO and prepare it for use</a>
<ul class="sectlevel2">
<li><a href="#microshift-embed-kickstart-iso_microshift-embed-in-rpm-ostree">Embedding a Kickstart file in an ISO</a></li>
</ul>
</li>
<li><a href="#accessing-microshift-cluster_microshift-embed-in-rpm-ostree">How to access the MicroShift cluster</a>
<ul class="sectlevel2">
<li><a href="#accessing-microshift-cluster-locally_microshift-embed-in-rpm-ostree">Accessing the MicroShift cluster locally</a></li>
<li><a href="#microshift-accessing-cluster-open-firewall_microshift-embed-in-rpm-ostree">Opening the firewall for remote access to the MicroShift cluster</a></li>
<li><a href="#accessing-microshift-cluster-remotely_microshift-embed-in-rpm-ostree">Accessing the MicroShift cluster remotely</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p>Use this guide to build a RHEL image containing MicroShift.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preparing-for-image-building_microshift-embed-in-rpm-ostree"><a class="anchor" href="#preparing-for-image-building_microshift-embed-in-rpm-ostree"></a>Preparing for image building</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the image builder tool to compose customized Red Hat Enterprise Linux for Edge (RHEL for Edge) images optimized for edge deployments. You can run a MicroShift cluster with your applications on a RHEL for Edge virtual machine for development and testing first, then use your whole solution in edge production environments.</p>
</div>
<div class="paragraph">
<p>Use the following RHEL documentation to understand the full details of using RHEL for Edge:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Read <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/introducing-rhel-for-edge-images_composing-installing-managing-rhel-for-edge-images">Introduction to RHEL for Edge images</a>.</p>
</li>
<li>
<p>To build an Red Hat Enterprise Linux for Edge (RHEL for Edge) 9.6 image for a given CPU architecture, you need a RHEL 9.6 build host of the same CPU architecture that meets the <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/setting-up-image-builder_composing-installing-managing-rhel-for-edge-images#edge-image-builder-system-requirements_setting-up-image-builder">Image builder system requirements</a>.</p>
</li>
<li>
<p>Follow the instructions in <a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/setting-up-image-builder_composing-installing-managing-rhel-for-edge-images#edge-installing-image-builder_setting-up-image-builder">Installing image builder</a> to install image builder and the <code>composer-cli</code> tool.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-enable-eus-repos_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-enable-eus-repos_microshift-embed-in-rpm-ostree"></a>Enabling extended support repositories for image building</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have an extended support (EUS) release of MicroShift or Red Hat Enterprise Linux (RHEL), you must enable the RHEL EUS repositories for image builder to use. If you do not have an EUS version, you can skip these steps.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an EUS version of MicroShift or RHEL or are updating to one.</p>
</li>
<li>
<p>You have root-user access to your build host.</p>
</li>
<li>
<p>You reviewed the <a href="https://docs.redhat.com/en/documentation/red_hat_build_of_microshift/4.19/html/getting_ready_to_install_microshift/microshift-install-get-ready#get-ready-install-rhde-compatibility-table_microshift-install-get-ready">Red Hat Device Edge release compatibility matrix</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Keeping component versions in a supported configuration of Red Hat Device Edge can require updating MicroShift and RHEL at the same time. Ensure that your version of RHEL is compatible with the version of MicroShift you are updating to, especially if you are updating MicroShift across two minor versions. Otherwise, you can create an unsupported configuration, break your cluster, or both. For more information, see the <a href="https://docs.redhat.com/en/documentation/red_hat_build_of_microshift/4.19/html/getting_ready_to_install_microshift/microshift-install-get-ready#get-ready-install-rhde-compatibility-table_microshift-install-get-ready">Red Hat Device Edge release compatibility matrix</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create the <code>/etc/osbuild-composer/repositories</code> directory by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/osbuild-composer/repositories</code></pre>
</div>
</div>
</li>
<li>
<p>Copy the <code>/usr/share/osbuild-composer/repositories/rhel-9.6.json</code> file into the <code>/etc/osbuild-composer/repositories</code> directory by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo cp</span> /usr/share/osbuild-composer/repositories/rhel-9.6.json /etc/osbuild-composer/repositories/rhel-9.6.json</code></pre>
</div>
</div>
</li>
<li>
<p>Update the <code>baseos</code> source by modifying the <code>/etc/osbuild-composer/repositories/rhel-9.6.json</code> file with the following values:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">#</span><span class="w"> </span>...
<span class="go">"baseurl": "https://cdn.redhat.com/content/eus/rhel9/9.6//baseos/os", <i class="conum" data-value="1"></i><b>(1)</b>
</span><span class="gp">#</span><span class="w"> </span>...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can replace <em>9</em> with the major RHEL version you are using if different from the value in this example, and replace <em>9.6</em> with the <em>&lt;major.minor&gt;</em> version. Be certain that the RHEL version you choose is compatible with the MicroShift version you are using.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional: Apply the <code>baseos</code> update by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo sed</span> <span class="nt">-i</span> <span class="s2">"s,dist/rhel9/9.6/</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">/baseos/,eus/rhel9/9.6/</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">/baseos/,g"</span> <span class="se">\</span>
/etc/osbuild-composer/repositories/rhel-9.6.json <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can replace <em>9</em> with the major RHEL version you are using if different from the value in this example, and replace <em>9.6</em> with the <em>&lt;major.minor&gt;</em> version. Be certain that the RHEL version you choose is compatible with the MicroShift version you are using.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Update the <code>appstream</code> source by modifying the <code>/etc/osbuild-composer/repositories/rhel-&lt;major.minor&gt;.json</code> file with the following values:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">#</span><span class="w"> </span>...
<span class="go">"baseurl": "https://cdn.redhat.com/content/eus/rhel9/9.6//appstream/os", <i class="conum" data-value="1"></i><b>(1)</b>
</span><span class="gp">#</span><span class="w"> </span>...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can replace <em>9</em> with the major RHEL version you are using if different from the value in this example, and replace <em>9.6</em> with the <em>&lt;major.minor&gt;</em> version. Be certain that the RHEL version you choose is compatible with the MicroShift version you are using.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional. Apply the <code>appstream</code> update by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo sed</span> <span class="nt">-i</span> <span class="s2">"s,dist/rhel9/9.6/</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">/appstream/,eus/rhel9/9.6/</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">/appstream/,g"</span> <span class="se">\</span>
/etc/osbuild-composer/repositories/rhel-9.6.json <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can replace <em>9</em> with the major RHEL version you are using if different from the value in this example, and replace <em>9.6</em> with the <em>&lt;major.minor&gt;</em> version. Be certain that the RHEL version you choose is compatible with the MicroShift version you are using.</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>You can verify the repositories by using the <code>composer-cli</code> tool to display information about the source.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify the <code>baseos</code> source by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli sources info baseos | <span class="nb">grep</span> <span class="s1">'url ='</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">url = "https://cdn.redhat.com/content/eus/rhel9/9.6/x86_64/baseos/os"</code></pre>
</div>
</div>
</li>
<li>
<p>Verify the <code>appstream</code> source by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli sources info appstream | <span class="nb">grep</span> <span class="s1">'url ='</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">url = "https://cdn.redhat.com/content/eus/rhel9/9.6/x86_64/appstream/os"</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-microshift-repos-image-builder_microshift-embed-in-rpm-ostree"><a class="anchor" href="#adding-microshift-repos-image-builder_microshift-embed-in-rpm-ostree"></a>Adding MicroShift repositories to image builder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the following procedure to add the MicroShift repositories to image builder on your build host.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your build host meets the image builder system requirements.</p>
</li>
<li>
<p>You have installed and set up image builder and the <code>composer-cli</code> tool.</p>
</li>
<li>
<p>You have root-user access to your build host.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create an image builder configuration file for adding the <code>rhocp-4.19</code> RPM repository source required to pull MicroShift RPMs by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">cat &gt; rhocp-4.19.toml &lt;&lt;EOF
id = "rhocp-4.19"
name = "Red Hat OpenShift Container Platform 4.19 for RHEL 9"
type = "yum-baseurl"
url = "https://cdn.redhat.com/content/dist/layered/rhel9/$(uname -m)/rhocp/4.19/os"
check_gpg = true
check_ssl = true
system = false
rhsm = true
EOF</code></pre>
</div>
</div>
</li>
<li>
<p>Create an image builder configuration file for adding the <code>fast-datapath</code> RPM repository by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">cat &gt; fast-datapath.toml &lt;&lt;EOF
id = "fast-datapath"
name = "Fast Datapath for RHEL 9"
type = "yum-baseurl"
url = "https://cdn.redhat.com/content/dist/layered/rhel9/$(uname -m)/fast-datapath/os"
check_gpg = true
check_ssl = true
system = false
rhsm = true
EOF</code></pre>
</div>
</div>
</li>
<li>
<p>Add the sources to the image builder by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli sources add rhocp-4.19.toml</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli sources add fast-datapath.toml</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Confirm that the sources were added properly by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli sources list</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">appstream
baseos
fast-datapath
rhocp-4.19</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/setting-up-image-builder_composing-installing-managing-rhel-for-edge-images#edge-image-builder-system-requirements_setting-up-image-builder">Image builder system requirements</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/setting-up-image-builder_composing-installing-managing-rhel-for-edge-images#edge-installing-image-builder_setting-up-image-builder">Installing image builder</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-microshift-service-to-blueprint_microshift-embed-in-rpm-ostree"><a class="anchor" href="#adding-microshift-service-to-blueprint_microshift-embed-in-rpm-ostree"></a>Adding the MicroShift service to a blueprint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Adding the MicroShift RPM package to an image builder blueprint enables the build of a RHEL for Edge image with MicroShift embedded.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Start with step 1 to create your own minimal blueprint file which results in a faster MicroShift installation.</p>
</li>
<li>
<p>Start with step 2 to use the generated blueprint for installation which includes all the RPM packages and container images. This is a longer installation process, but a faster start up because container references are accessed locally.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Replace <code><em>&lt;microshift_blueprint.toml&gt;</em></code> in the following procedures with the name of the TOML file you are using.</p>
</li>
<li>
<p>Replace <code><em>&lt;microshift_blueprint&gt;</em></code> in the following procedures with the name you want to use for your blueprint.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use the following example to create your own blueprint file:</p>
<div class="listingblock">
<div class="title">Custom image builder blueprint example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">cat &gt; <em>&lt;microshift_blueprint.toml&gt;</em> &lt;&lt;EOF <i class="conum" data-value="1"></i><b>(1)</b>
name = "<em>&lt;microshift_blueprint&gt;</em>" <i class="conum" data-value="2"></i><b>(2)</b>

description = ""
version = "0.0.1"
modules = []
groups = []

[[packages]]
name = "microshift"
version = "4.19.1" <i class="conum" data-value="3"></i><b>(3)</b>

[customizations.services]
enabled = ["microshift"]
EOF</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the TOML file.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The name of the blueprint.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Substitute the value for the version you want. For example, insert <code>4.19.1</code> to download the MicroShift 4.19.1 RPMs.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional. Use the blueprint installed in the <code>/usr/share/microshift/blueprint</code> directory that is specific to your platform architecture. See the following example snippet for an explanation of the blueprint sections:</p>
<div class="listingblock">
<div class="title">Generated image builder blueprint example snippet</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text">name = "microshift_blueprint"
description = "MicroShift 4.17.1 on x86_64 platform"
version = "0.0.1"
modules = []
groups = []

[[packages]] <i class="conum" data-value="1"></i><b>(1)</b>
name = "microshift"
version = "4.17.1"
...
...

[customizations.services] <i class="conum" data-value="2"></i><b>(2)</b>
enabled = ["microshift"]

[customizations.firewall]
ports = ["22:tcp", "80:tcp", "443:tcp", "5353:udp", "6443:tcp", "30000-32767:tcp", "30000-32767:udp"]
...
...

[[containers]] <i class="conum" data-value="3"></i><b>(3)</b>
source = "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f41e79c17e8b41f1b0a5a32c3e2dd7cd15b8274554d3f1ba12b2598a347475f4"

[[containers]]
source = "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:dbc65f1fba7d92b36cf7514cd130fe83a9bd211005ddb23a8dc479e0eea645fd"
...

EOF</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>References for all non-optional MicroShift RPM packages using the same version compatible with the <code>microshift-release-info</code> RPM.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>References for automatically enabling MicroShift on system startup and applying default networking settings.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>References for all non-optional MicroShift container images necessary for an offline deployment.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add the blueprint to the image builder by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli blueprints push <em>&lt;microshift_blueprint.toml&gt;</em> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code><em>&lt;microshift_blueprint.toml&gt;</em></code> with the name of your TOML file.</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Verify the image builder configuration listing only MicroShift packages by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli blueprints depsolve <em>&lt;microshift_blueprint&gt;</em> | <span class="nb">grep </span>microshift <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code><em>&lt;microshift_blueprint&gt;</em></code> with the name of your blueprint.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">blueprint: microshift_blueprint v0.0.1
    microshift-greenboot-4.17.1-202305250827.p0.g4105d3b.assembly.4.17.1.el9.noarch
    microshift-networking-4.17.1-202305250827.p0.g4105d3b.assembly.4.17.1.el9.x86_64
    microshift-release-info-4.17.1-202305250827.p0.g4105d3b.assembly.4.17.1.el9.noarch
    microshift-4.17.1-202305250827.p0.g4105d3b.assembly.4.17.1.el9.x86_64
    microshift-selinux-4.17.1-202305250827.p0.g4105d3b.assembly.4.17.1.el9.noarch</span></code></pre>
</div>
</div>
</li>
<li>
<p>Optional: Verify the image builder configuration listing all components to be installed by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli blueprints depsolve <em>&lt;microshift_blueprint&gt;</em> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code><em>&lt;microshift_blueprint&gt;</em></code> with the name of your blueprint.</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-adding-other-services-to-blueprint_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-adding-other-services-to-blueprint_microshift-embed-in-rpm-ostree"></a>Adding other packages to a blueprint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add the references for optional RPM packages to your <code>ostree</code> blueprint to enable them.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You created an image builder blueprint file.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your <code>ostree</code> blueprint by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>vi <em>&lt;microshift_blueprint.toml&gt;</em> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code><em>&lt;microshift_blueprint.toml&gt;</em></code> with the name of the blueprint file used for the MicroShift service.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add the following example text to your blueprint:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">[[packages]] <i class="conum" data-value="1"></i><b>(1)</b>
name = "<em>&lt;microshift-additional-package-name&gt;</em>" <i class="conum" data-value="2"></i><b>(2)</b>
version = "*"</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Include one stanza for each additional service that you want to add.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Replace <code><em>&lt;microshift-additional-package-name&gt;</em></code> with the name the RPM for the service you want to include. For example, <code>microshift-olm</code>.</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Next steps</div>
<ol class="arabic">
<li>
<p>Add custom certificate authorities to the blueprint as needed.</p>
</li>
<li>
<p>After you are done adding to your blueprint, you can apply the manifests to an active cluster by building a new <code>ostree</code> system and deploying it on the client:</p>
<div class="ulist">
<ul>
<li>
<p>Create the ISO.</p>
</li>
<li>
<p>Add the blueprint and build the ISO.</p>
</li>
<li>
<p>Download the ISO and prepare it for use.</p>
</li>
<li>
<p>Do any provisioning that is needed.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://osbuild.org/docs/user-guide/blueprint-reference">Blueprint Reference</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/composing-a-rhel-for-edge-image-using-image-builder-command-line_composing-installing-managing-rhel-for-edge-images">Creating a RHEL for Edge Container blueprint using image builder CLI</a></p>
</li>
<li>
<p><a href="https://osbuild.org/docs/on-premises/commandline/building-ostree-images">Building OSTree image</a></p>
</li>
<li>
<p><a href="https://podman.io/docs/installation">Installing Podman</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-ca-adding-bundle_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-ca-adding-bundle_microshift-embed-in-rpm-ostree"></a>Adding a certificate authority bundle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MicroShift uses the host trust bundle when clients evaluate server certificates. You can also use a customized security certificate chain to improve the compatibility of your endpoint certificates with clients specific to your deployments. To do this, you can add a certificate authority (CA) bundle with root and intermediate certificates to the Red Hat Enterprise Linux for Edge (RHEL for Edge) system-wide trust store.</p>
</div>
<div class="sect2">
<h3 id="microshift-ca-adding-bundle-ostree_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-ca-adding-bundle-ostree_microshift-embed-in-rpm-ostree"></a>Adding a certificate authority bundle to an rpm-ostree image</h3>
<div class="paragraph">
<p>You can include additional trusted certificate authorities (CAs) to the Red Hat Enterprise Linux for Edge (RHEL for Edge) <code>rpm-ostree</code> image by adding them to the blueprint that you use to create the image. Using the following procedure sets up additional CAs to be trusted by the operating system when pulling images from an image registry.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This procedure requires you to configure the CA bundle customizations in the blueprint, and then add steps to your Kickstart file to enable the bundle. In the following steps, <code>data</code> is the key, and <code>&lt;value&gt;</code> represents the PEM-encoded certificate.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have root user access to your build host.</p>
</li>
<li>
<p>Your build host meets the image builder system requirements.</p>
</li>
<li>
<p>You have installed and set up image builder and the <code>composer-cli</code> tool.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Add the following custom values to your blueprint to add a directory.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add instructions to your blueprint on the host where the image is built to create the directory, for example, <code>/etc/pki/ca-trust/source/anchors/</code> for your certificate bundles.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">[[customizations.directories]]
path = "/etc/pki/ca-trust/source/anchors"</span></code></pre>
</div>
</div>
</li>
<li>
<p>After the image has booted, create the certificate bundles, for example, <code>/etc/pki/ca-trust/source/anchors/cert1.pem</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">[[customizations.files]]
path = "/etc/pki/ca-trust/source/anchors/cert1.pem"
</span><span class="gp">data = "&lt;value&gt;</span><span class="s2">"</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To enable the certificate bundle in the system-wide trust store configuration, use the <code>update-ca-trust</code> command on the host where the image you are using has booted, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>update-ca-trust</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>update-ca-trust</code> command might be included in the <code>%post</code> section of a Kickstart file used for MicroShift host installation so that all the necessary certificate trust is enabled on the first boot. You must configure the CA bundle customizations in the blueprint before adding steps to your Kickstart file to enable the bundle.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">%post
</span><span class="gp">#</span><span class="w"> </span>Update certificate trust storage <span class="k">in case</span> new certificates were
<span class="gp">#</span><span class="w"> </span>installed at /etc/pki/ca-trust/source/anchors directory
<span class="go">update-ca-trust
%end</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../microshift_install_rpm_ostree/microshift-embed-in-rpm-ostree.html#microshift-creating-ostree-iso_microshift-embed-in-rpm-ostree">Creating the RHEL for Edge image</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/securing_networks/using-shared-system-certificates_securing-networks">Using Shared System Certificates (RHEL 9)</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_a_customized_rhel_system_image/creating-system-images-with-composer-command-line-interface_composing-a-customized-rhel-system-image#image-customizations_creating-system-images-with-composer-command-line-interface">Supported image customizations (RHEL 9)</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/composing_installing_and_managing_rhel_for_edge_images/creating-and-managing-ostree-image-updates_composing-installing-managing-rhel-for-edge-images">Creating and managing OSTree image updates</a></p>
</li>
<li>
<p><a href="../microshift_updating/microshift-update-rpms-ostree.html#microshift-update-rpms-ostree">Applying updates on an OSTree system</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-creating-ostree-iso_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-creating-ostree-iso_microshift-embed-in-rpm-ostree"></a>Creating the RHEL for Edge image with image builder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the following procedure to create the ISO. The RHEL for Edge Installer image pulls the commit from the running container and creates an installable boot ISO with a Kickstart file configured to use the embedded <code>rpm-ostree</code> commit.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your build host meets the image builder system requirements.</p>
</li>
<li>
<p>You installed and set up image builder and the <code>composer-cli</code> tool.</p>
</li>
<li>
<p>You root-user access to your build host.</p>
</li>
<li>
<p>You installed the <code>podman</code> tool.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Start an <code>ostree</code> container image build by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nv">BUILDID</span><span class="o">=</span><span class="si">$(</span><span class="nb">sudo </span>composer-cli compose start-ostree <span class="nt">--ref</span> <span class="s2">"rhel/{op-system-version-major}/</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">/edge"</span> <em>&lt;microshift_blueprint&gt;</em> edge-container | <span class="nb">awk</span> <span class="s1">'/^Compose/ {print $2}'</span><span class="si">)</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <code><em>&lt;microshift_blueprint&gt;</em></code> with the name of your blueprint.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This command also returns the identification (ID) of the build for monitoring.</p>
</div>
</li>
<li>
<p>You can check the status of the build periodically by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli compose status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output of a running build</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">ID                                     Status     Time                     Blueprint                 Version   Type               Size
cc3377ec-4643-4483-b0e7-6b0ad0ae6332   RUNNING    Wed Jun 7 12:26:23 2023  microshift_blueprint      0.0.1     edge-container</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output of a completed build</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">ID                                     Status     Time                      Blueprint              Version   Type               Size
cc3377ec-4643-4483-b0e7-6b0ad0ae6332   FINISHED   Wed Jun 7 12:32:37 2023   microshift_blueprint   0.0.1     edge-container</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can use the <code>watch</code> command to monitor your build if you are familiar with how to start and stop it.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Download the container image using the ID and get the image ready for use by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli compose image <span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span></code></pre>
</div>
</div>
</li>
<li>
<p>Change the ownership of the downloaded container image to the current user by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo chown</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span><span class="nb">.</span> <span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span><span class="nt">-container</span>.tar</code></pre>
</div>
</div>
</li>
<li>
<p>Add read permissions for the current user to the image by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo chmod </span>a+r <span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span><span class="nt">-container</span>.tar</code></pre>
</div>
</div>
</li>
<li>
<p>Bootstrap a server on port 8085 for the <code>ostree</code> container image to be consumed by the ISO build by completing the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Get the <code>IMAGEID</code> variable result by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nv">IMAGEID</span><span class="o">=</span><span class="si">$(</span><span class="nb">cat</span> &lt; <span class="s2">"./</span><span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span><span class="s2">-container.tar"</span> | <span class="nb">sudo </span>podman load | <span class="nb">grep</span> <span class="nt">-o</span> <span class="nt">-P</span> <span class="s1">'(?&lt;=sha256[@:])[a-z0-9]*'</span><span class="si">)</span></code></pre>
</div>
</div>
</li>
<li>
<p>Use the <code>IMAGEID</code> variable result to execute the podman command step by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>podman run <span class="nt">-d</span> <span class="nt">--name</span><span class="o">=</span>minimal-microshift-server <span class="nt">-p</span> 8085:8080 <span class="k">${</span><span class="nv">IMAGEID</span><span class="k">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command also returns the ID of the container saved in the <code>IMAGEID</code> variable for monitoring.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Generate the installer blueprint file by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">cat &gt; microshift-installer.toml &lt;&lt;EOF
name = "microshift-installer"

description = ""
version = "0.0.0"
modules = []
groups = []
packages = []
EOF</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-add-blueprint-build-iso_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-add-blueprint-build-iso_microshift-embed-in-rpm-ostree"></a>Add the blueprint to image builder and build the ISO</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the blueprint to the image builder by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli blueprints push microshift-installer.toml</code></pre>
</div>
</div>
</li>
<li>
<p>Start the <code>ostree</code> ISO build by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nv">BUILDID</span><span class="o">=</span><span class="si">$(</span><span class="nb">sudo </span>composer-cli compose start-ostree <span class="nt">--url</span> http://localhost:8085/repo/ <span class="nt">--ref</span> <span class="s2">"rhel/9/</span><span class="si">$(</span><span class="nb">uname</span> <span class="nt">-m</span><span class="si">)</span><span class="s2">/edge"</span> microshift-installer edge-installer | <span class="nb">awk</span> <span class="s1">'{print $2}'</span><span class="si">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command also returns the identification (ID) of the build for monitoring.</p>
</div>
</li>
<li>
<p>You can check the status of the build periodically by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli compose status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output for a running build</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">ID                                     Status     Time                      Blueprint              Version   Type               Size
c793c24f-ca2c-4c79-b5b7-ba36f5078e8d   RUNNING    Wed Jun 7 13:22:20 2023   microshift-installer   0.0.0     edge-installer</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output for a completed build</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">ID                                     Status     Time                      Blueprint              Version   Type               Size
c793c24f-ca2c-4c79-b5b7-ba36f5078e8d   FINISHED   Wed Jun 7 13:34:49 2023   microshift-installer   0.0.0     edge-installer</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="microshift-download-iso-prep-for-use_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-download-iso-prep-for-use_microshift-embed-in-rpm-ostree"></a>Download the ISO and prepare it for use</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the ISO using the ID by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>composer-cli compose image <span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span></code></pre>
</div>
</div>
</li>
<li>
<p>Change the ownership of the downloaded container image to the current user by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo chown</span> <span class="si">$(</span><span class="nb">whoami</span><span class="si">)</span><span class="nb">.</span> <span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span><span class="nt">-installer</span>.iso</code></pre>
</div>
</div>
</li>
<li>
<p>Add read permissions for the current user to the image by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo chmod </span>a+r <span class="k">${</span><span class="nv">BUILDID</span><span class="k">}</span><span class="nt">-installer</span>.iso</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Provision a virtual machine with a Kickstart file.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="microshift-embed-kickstart-iso_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-embed-kickstart-iso_microshift-embed-in-rpm-ostree"></a>Embedding a Kickstart file in an ISO</h3>
<div class="paragraph">
<p>You can use the Kickstart file provided with MicroShift, or you can update an existing RHEL for Edge Installer (ISO) Kickstart file. When ready, embed the Kickstart file into the ISO. Your Kickstart file must include detailed instructions about how to create a user and how to fetch and deploy the RHEL for Edge image.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You created a RHEL for Edge Installer (ISO) image containing your RHEL for Edge commit with MicroShift.</p>
</li>
<li>
<p>You have an existing Kickstart file ready for updating. You can use the <code>microshift-starter.ks</code> Kickstart file provided with the MicroShift RPMs.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the main section of the Kickstart file, update the setup of the filesystem such that it contains an LVM volume group called <code>rhel</code> with at least 10GB system root. Leave free space for the LVMS CSI driver to use for storing the data for your workloads.</p>
<div class="listingblock">
<div class="title">Example Kickstart file snippet for configuring the filesystem</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="text"># Partition disk such that it contains an LVM volume group called `rhel` with a
# 10GB+ system root but leaving free space for the LVMS CSI driver for storing data.
#
# For example, a 20GB disk would be partitioned in the following way:
#
# NAME          MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
# sda             8:0    0  20G  0 disk
# sda1          8:1    0 200M  0 part /boot/efi
# sda1          8:1    0 800M  0 part /boot
# sda2          8:2    0  19G  0 part
#  rhel-root  253:0    0  10G  0 lvm  /sysroot
#
ostreesetup --nogpg --osname=rhel --remote=edge \
--url=file:///run/install/repo/ostree/repo --ref=rhel/&lt;RHEL VERSION NUMBER&gt;/x86_64/edge
zerombr
clearpart --all --initlabel
part /boot/efi --fstype=efi --size=200
part /boot --fstype=xfs --asprimary --size=800
# Uncomment this line to add a SWAP partition of the recommended size
#part swap --fstype=swap --recommended
part pv.01 --grow
volgroup rhel pv.01
logvol / --vgname=rhel --fstype=xfs --size=10000 --name=root
# To add users, use a line such as the following
user --name=&lt;YOUR_USER_NAME&gt; \
--password=&lt;YOUR_HASHED_PASSWORD&gt; \
--iscrypted --groups=&lt;YOUR_USER_GROUPS&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>In the <code>%post</code> section of the Kickstart file, add your pull secret and the mandatory firewall rules.</p>
<div class="listingblock">
<div class="title">Example Kickstart file snippet for adding the pull secret and firewall rules</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">%post --log=/var/log/anaconda/post-install.log --erroronfail

</span><span class="gp">#</span><span class="w"> </span>Add the pull secret to CRI-O and <span class="nb">set </span>root user-only <span class="nb">read</span>/write permissions
<span class="gp">cat &gt;</span><span class="w"> </span>/etc/crio/openshift-pull-secret <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
</span><span class="go">YOUR_OPENSHIFT_PULL_SECRET_HERE
EOF
chmod 600 /etc/crio/openshift-pull-secret

</span><span class="gp">#</span><span class="w"> </span>Configure the firewall with the mandatory rules <span class="k">for </span>MicroShift
<span class="go">firewall-offline-cmd --zone=trusted --add-source=10.42.0.0/16
firewall-offline-cmd --zone=trusted --add-source=169.254.169.1

%end</span></code></pre>
</div>
</div>
</li>
<li>
<p>Install the <code>mkksiso</code> tool by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> lorax</code></pre>
</div>
</div>
</li>
<li>
<p>Update the ISO with your new Kickstart file by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>mkksiso &lt;your_kickstart&gt;.ks &lt;your_installer&gt;.iso &lt;updated_installer&gt;.iso</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html-single/composing_installing_and_managing_rhel_for_edge_images/index">Composing, installing, and managing RHEL for Edge images</a></p>
</li>
<li>
<p><a href="../microshift_install_rpm/microshift-install-rpm.html#microshift-install-system-requirements_microshift-install-rpm">System requirements for installing MicroShift</a></p>
</li>
<li>
<p><a href="https://console.redhat.com/openshift/install/pull-secret">Red Hat Hybrid Cloud Console pull secret</a></p>
</li>
<li>
<p><a href="../microshift_networking/microshift-firewall.html#microshift-firewall-req-settings_microshift-firewall">Required firewall settings</a></p>
</li>
<li>
<p><a href="../microshift_install_kickstarts/microshift-rhel-kickstarts.html#microshift-rhel-kickstarts">Using Kickstart files for embedding MicroShift in RHEL installation</a></p>
</li>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automatically_installing_rhel/creating-kickstart-files_rhel-installer">Creating Kickstart files</a></p>
</li>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/9/html/automatically_installing_rhel/kickstart-script-file-format-reference_rhel-installer#kickstart-file-format_kickstart-script-file-format-reference">A.1. Kickstart file format</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/solutions/60959">How to embed a Kickstart file into an ISO image</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="accessing-microshift-cluster_microshift-embed-in-rpm-ostree"><a class="anchor" href="#accessing-microshift-cluster_microshift-embed-in-rpm-ostree"></a>How to access the MicroShift cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the procedures in this section to access the MicroShift cluster by using the OpenShift CLI (<code>oc</code>).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can access the cluster from either the same machine running the MicroShift service or from a remote location.</p>
</li>
<li>
<p>You can use this access to observe and administrate workloads.</p>
</li>
<li>
<p>When using the following steps, choose the <code>kubeconfig</code> file that contains the host name or IP address you want to connect to and place it in the relevant directory.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="accessing-microshift-cluster-locally_microshift-embed-in-rpm-ostree"><a class="anchor" href="#accessing-microshift-cluster-locally_microshift-embed-in-rpm-ostree"></a>Accessing the MicroShift cluster locally</h3>
<div class="paragraph">
<p>Use the following procedure to access the MicroShift cluster locally by using a <code>kubeconfig</code> file.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You installed OpenShift CLI (<code>oc</code>).</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Optional: to create a <code>~/.kube/</code> folder if your Red Hat Enterprise Linux (RHEL) machine does not have one, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">mkdir</span> <span class="nt">-p</span> ~/.kube/</code></pre>
</div>
</div>
</li>
<li>
<p>Copy the generated local access <code>kubeconfig</code> file to the <code>~/.kube/</code> directory by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo cat</span> /var/lib/microshift/resources/kubeadmin/kubeconfig <span class="o">&gt;</span> ~/.kube/config</code></pre>
</div>
</div>
</li>
<li>
<p>Update the permissions on your <code>~/.kube/config</code> file by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">chmod </span>go-r ~/.kube/config</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that MicroShift is running by entering the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-A</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">NAMESPACE                   NAME                                                     READY   STATUS   RESTARTS  AGE
default                     i-06166fbb376f14a8bus-west-2computeinternal-debug-qtwcr  1/1     Running  0		    46m
kube-system                 csi-snapshot-controller-5c6586d546-lprv4                 1/1     Running  0		    51m
openshift-dns               dns-default-45jl7                                        2/2     Running  0		    50m
openshift-dns               node-resolver-7wmzf                                      1/1     Running  0		    51m
openshift-ingress           router-default-78b86fbf9d-qvj9s                          1/1     Running  0		    51m
openshift-ovn-kubernetes    ovnkube-master-5rfhh                                     4/4     Running  0		    51m
openshift-ovn-kubernetes    ovnkube-node-gcnt6                                       1/1     Running  0		    51m
openshift-service-ca        service-ca-bf5b7c9f8-pn6rk                               1/1     Running  0		    51m
openshift-storage           topolvm-controller-549f7fbdd5-7vrmv                      5/5     Running  0		    51m
openshift-storage           topolvm-node-rht2m                                       3/3     Running  0		    50m</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This example output shows basic MicroShift. If you have installed optional RPMs, the status of pods running those services is also expected to be shown in your output.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="microshift-accessing-cluster-open-firewall_microshift-embed-in-rpm-ostree"><a class="anchor" href="#microshift-accessing-cluster-open-firewall_microshift-embed-in-rpm-ostree"></a>Opening the firewall for remote access to the MicroShift cluster</h3>
<div class="paragraph">
<p>Use the following procedure to open the firewall so that a remote user can access the MicroShift cluster. This procedure must be completed before a workstation user can access the cluster remotely.</p>
</div>
<div class="paragraph">
<p>For this procedure, <code>user@microshift</code> is the user on the MicroShift host machine and is responsible for setting up that machine so that it can be accessed by a remote user on a separate workstation.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You installed OpenShift CLI (<code>oc</code>).</p>
</li>
<li>
<p>Your account has cluster administration privileges.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>As <code>user@microshift</code> on the MicroShift host, open the firewall port for the Kubernetes API server (<code>6443/tcp</code>) by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">[user@microshift]$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--add-port</span><span class="o">=</span>6443/tcp <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>firewall-cmd <span class="nt">--reload</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>As <code>user@microshift</code>, verify that MicroShift is running by entering the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-A</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">NAMESPACE                   NAME                                                     READY   STATUS   RESTARTS  AGE
default                     i-06166fbb376f14a8bus-west-2computeinternal-debug-qtwcr  1/1     Running  0		    46m
kube-system                 csi-snapshot-controller-5c6586d546-lprv4                 1/1     Running  0		    51m
openshift-dns               dns-default-45jl7                                        2/2     Running  0		    50m
openshift-dns               node-resolver-7wmzf                                      1/1     Running  0		    51m
openshift-ingress           router-default-78b86fbf9d-qvj9s                          1/1     Running  0		    51m
openshift-ovn-kubernetes    ovnkube-master-5rfhh                                     4/4     Running  0		    51m
openshift-ovn-kubernetes    ovnkube-node-gcnt6                                       1/1     Running  0		    51m
openshift-service-ca        service-ca-bf5b7c9f8-pn6rk                               1/1     Running  0		    51m
openshift-storage           topolvm-controller-549f7fbdd5-7vrmv                      5/5     Running  0		    51m
openshift-storage           topolvm-node-rht2m                                       3/3     Running  0		    50m</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This example output shows basic MicroShift. If you have installed optional RPMs, the status of pods running those services is also expected to be shown in your output.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="accessing-microshift-cluster-remotely_microshift-embed-in-rpm-ostree"><a class="anchor" href="#accessing-microshift-cluster-remotely_microshift-embed-in-rpm-ostree"></a>Accessing the MicroShift cluster remotely</h3>
<div class="paragraph">
<p>Use the following procedure to access the MicroShift cluster from a remote location by using a <code>kubeconfig</code> file.</p>
</div>
<div class="paragraph">
<p>The <code>user@workstation</code> login is used to access the host machine remotely. The <code>&lt;user&gt;</code> value in the procedure is the name of the user that <code>user@workstation</code> logs in with to the MicroShift host.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You installed OpenShift CLI (<code>oc</code>).</p>
</li>
<li>
<p>The <code>user@microshift</code> has opened the firewall from the local host.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>As <code>user@workstation</code>, create a <code>~/.kube/</code> folder if your Red Hat Enterprise Linux (RHEL) machine does not have one by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">[user@workstation]$</span><span class="w"> </span><span class="nb">mkdir</span> <span class="nt">-p</span> ~/.kube/</code></pre>
</div>
</div>
</li>
<li>
<p>As <code>user@workstation</code>, set a variable for the hostname of your MicroShift host by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">[user@workstation]$</span><span class="w"> </span><span class="nv">MICROSHIFT_MACHINE</span><span class="o">=</span><em>&lt;microshift_hostname&gt;</em> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace the value, <em>&lt;MicroShift_hostname&gt;</em>, with the either the name or the IP address of the host running .</td>
</tr>
</table>
</div>
</li>
<li>
<p>As <code>user@workstation</code>, copy the generated <code>kubeconfig</code> file that contains the host name or IP address you want to connect with from the RHEL machine running MicroShift to your local machine by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">[user@workstation]$</span><span class="w"> </span>ssh <em>&lt;user&gt;</em>@<span class="nv">$MICROSHIFT_MACHINE</span> <span class="s2">"sudo cat /var/lib/microshift/resources/kubeadmin/</span><span class="nv">$MICROSHIFT_MACHINE</span><span class="s2">/kubeconfig"</span> <span class="o">&gt;</span> ~/.kube/config <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace <em>&lt;user&gt;</em> with your SSH login credentials.</td>
</tr>
</table>
</div>
<div class="openblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To generate the <code>kubeconfig</code> files for this step, see link:https://docs.redhat.com/en/documentation/red_hat_build_of_microshift/Branch Build/html/configuring/microshift-kubeconfig#generating-additional-kubeconfig-files_microshift-kubeconfig[Generating additional kubeconfig files for remote access].</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>As <code>user@workstation</code>, update the permissions on your <code>~/.kube/config</code> file by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">chmod </span>go-r ~/.kube/config</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>As <code>user@workstation</code>, verify that MicroShift is running by entering the following command:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get pods <span class="nt">-A</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">NAMESPACE                   NAME                                                     READY   STATUS   RESTARTS  AGE
default                     i-06166fbb376f14a8bus-west-2computeinternal-debug-qtwcr  1/1     Running  0		    46m
kube-system                 csi-snapshot-controller-5c6586d546-lprv4                 1/1     Running  0		    51m
openshift-dns               dns-default-45jl7                                        2/2     Running  0		    50m
openshift-dns               node-resolver-7wmzf                                      1/1     Running  0		    51m
openshift-ingress           router-default-78b86fbf9d-qvj9s                          1/1     Running  0		    51m
openshift-ovn-kubernetes    ovnkube-master-5rfhh                                     4/4     Running  0		    51m
openshift-ovn-kubernetes    ovnkube-node-gcnt6                                       1/1     Running  0		    51m
openshift-service-ca        service-ca-bf5b7c9f8-pn6rk                               1/1     Running  0		    51m
openshift-storage           topolvm-controller-549f7fbdd5-7vrmv                      5/5     Running  0		    51m
openshift-storage           topolvm-node-rht2m                                       3/3     Running  0		    50m</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This example output shows basic MicroShift. If you have installed optional RPMs, the status of pods running those services is also expected to be shown in your output.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../microshift_configuring/microshift-cluster-access-kubeconfig.html#microshift-kubeconfig-generating-remote-kcfiles_microshift-cluster-access-kubeconfig">Generating additional kubeconfig files for remote access</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'microshift';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-telco': ['docs_telco', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version],
    'openshift-serverless' : ['docs_serverless', version],
    'openshift-pipelines' : ['docs_pipelines', version],
    'openshift-builds' : ['docs_builds', version],
    'openshift-gitops' : ['docs_gitops', version],
    'openshift-lightspeed' : ['docs_lightspeed', version],
    'openshift-service-mesh' : ['docs_service_mesh', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.net/content/img/Logo-Red_Hat-OpenShift-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright  2025 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

  <!-- hide footer after 3 seconds -->
  <script type="text/javascript">
    const hideFooter = () => {
      document.querySelector('footer#rh, footer.footer-origin-docs').style.display = "none";
    };

    window.addEventListener('load', function() {
      setTimeout(hideFooter, 3000);
    });
  </script>
</body>
</html>