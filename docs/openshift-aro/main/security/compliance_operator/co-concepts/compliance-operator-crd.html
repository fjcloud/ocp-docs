

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>Understanding the Custom Resource Definitions - Compliance Operator | Security and compliance | Azure Red Hat OpenShift Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.okd.io/latest/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      
      <span>
        <div class="alert alert-info" role="primary" id="support-info">
          <strong>Starting on March 12, 2025, OpenShift docs will only be available at <a href="https://docs.redhat.com/en/" style="color: #0C5460 !important" class="link-primary">docs.redhat.com</a>. From that time on, docs.openshift.com links will automatically redirect to their locations on docs.redhat.com.
          </strong>
        </div>
      </span>
      

      

      

      

      

      

      

      
      

      

      


      

      


      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          <a href="../../../security/index.html">Azure Red Hat OpenShift Branch Build</a>
        
      </li>
      <li class="hidden-xs active">
        <a href="../../../security/index.html">Security and compliance</a>
      </li>
      <li class="hidden-xs active"><a href="../../../security/compliance_operator/co-overview.html">Compliance Operator</a></li>
      <li class="hidden-xs active"><a href="../../../security/compliance_operator/co-concepts/compliance-operator-understanding.html">Compliance Operator concepts</a></li>
      <li class="hidden-xs active">
        Understanding the Custom Resource Definitions
      </li>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-down"></span>Security and compliance</a>
      <ul id="topicGroup0" class="collapse in list-unstyled">
            <li><a class="" href="../../../security/index.html">Security and compliance overview</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-0-1"><span id="sgSpan-0-1" class="fa fa-caret-right"></span>&nbsp;Container security</a>
              <ul id="topicSubGroup-0-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../../security/container_security/security-understanding.html">Understanding container security</a></li>
                  <li><a class="" href="../../../security/container_security/security-hosts-vms.html">Understanding host and VM security</a></li>
                  <li><a class="" href="../../../security/container_security/security-hardening.html">Hardening Red Hat Enterprise Linux CoreOS</a></li>
                  <li><a class="" href="../../../security/container_security/security-container-signature.html">Container image signatures</a></li>
                  <li><a class="" href="../../../security/container_security/security-compliance.html">Understanding compliance</a></li>
                  <li><a class="" href="../../../security/container_security/security-container-content.html">Securing container content</a></li>
                  <li><a class="" href="../../../security/container_security/security-registries.html">Using container registries securely</a></li>
                  <li><a class="" href="../../../security/container_security/security-build.html">Securing the build process</a></li>
                  <li><a class="" href="../../../security/container_security/security-deploy.html">Deploying containers</a></li>
                  <li><a class="" href="../../../security/container_security/security-platform.html">Securing the container platform</a></li>
                  <li><a class="" href="../../../security/container_security/security-network.html">Securing networks</a></li>
                  <li><a class="" href="../../../security/container_security/security-storage.html">Securing attached storage</a></li>
                  <li><a class="" href="../../../security/container_security/security-monitoring.html">Monitoring cluster events and logs</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-0-2"><span id="sgSpan-0-2" class="fa fa-caret-down"></span>&nbsp;Compliance Operator</a>
              <ul id="topicSubGroup-0-2" class="nav-tertiary list-unstyled collapse in">

                  <li><a class="" href="../../../security/compliance_operator/co-overview.html">Compliance Operator overview</a></li>
                  <li><a class="" href="../../../security/compliance_operator/compliance-operator-release-notes.html">Compliance Operator release notes</a></li>
                  <li><a class="" href="../../../security/compliance_operator/co-support.html">Compliance Operator support</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-0-2-3"><span id="ssgSpan-0-2-3" class="fa fa-caret-down"></span>&nbsp;Compliance Operator concepts</a>
                  <ul id="topicSubSubGroup-0-2-3" class="nav-tertiary list-unstyled collapse in">

                    <li><a class="" href="../../../security/compliance_operator/co-concepts/compliance-operator-understanding.html" style="padding-left: 70px;">Understanding the Compliance Operator</a></li>
                    <li><a class=" active" href="../../../security/compliance_operator/co-concepts/compliance-operator-crd.html" style="padding-left: 70px;">Understanding the Custom Resource Definitions</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-0-2-4"><span id="ssgSpan-0-2-4" class="fa fa-caret-right"></span>&nbsp;Compliance Operator management</a>
                  <ul id="topicSubSubGroup-0-2-4" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../../../security/compliance_operator/co-management/compliance-operator-installation.html" style="padding-left: 70px;">Installing the Compliance Operator</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-management/compliance-operator-updating.html" style="padding-left: 70px;">Updating the Compliance Operator</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-management/compliance-operator-manage.html" style="padding-left: 70px;">Managing the Compliance Operator</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-management/compliance-operator-uninstallation.html" style="padding-left: 70px;">Uninstalling the Compliance Operator</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-0-2-5"><span id="ssgSpan-0-2-5" class="fa fa-caret-right"></span>&nbsp;Compliance Operator scan management</a>
                  <ul id="topicSubSubGroup-0-2-5" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-operator-supported-profiles.html" style="padding-left: 70px;">Supported compliance profiles</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-scans.html" style="padding-left: 70px;">Compliance Operator scans</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-operator-tailor.html" style="padding-left: 70px;">Tailoring the Compliance Operator</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-operator-raw-results.html" style="padding-left: 70px;">Retrieving Compliance Operator raw results</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-operator-remediation.html" style="padding-left: 70px;">Managing Compliance Operator remediation</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-operator-advanced.html" style="padding-left: 70px;">Performing advanced Compliance Operator tasks</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/compliance-operator-troubleshooting.html" style="padding-left: 70px;">Troubleshooting Compliance Operator scans</a></li>
                    <li><a class="" href="../../../security/compliance_operator/co-scans/oc-compliance-plug-in-using.html" style="padding-left: 70px;">Using the oc-compliance plugin</a></li>                  </ul>
                  </li>
              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-0-3"><span id="sgSpan-0-3" class="fa fa-caret-right"></span>&nbsp;File Integrity Operator</a>
              <ul id="topicSubGroup-0-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../../security/file_integrity_operator/fio-overview.html">File Integrity Operator Overview</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-release-notes.html">File Integrity Operator release notes</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/fio-support.html">File Integrity Operator support</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-installation.html">Installing the File Integrity Operator</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-updating.html">Updating the File Integrity Operator</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-understanding.html">Understanding the File Integrity Operator</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-configuring.html">Configuring the File Integrity Operator</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-advanced-usage.html">Performing advanced File Integrity Operator tasks</a></li>
                  <li><a class="" href="../../../security/file_integrity_operator/file-integrity-operator-troubleshooting.html">Troubleshooting the File Integrity Operator</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-0-4"><span id="sgSpan-0-4" class="fa fa-caret-right"></span>&nbsp;Security Profiles Operator</a>
              <ul id="topicSubGroup-0-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../../security/security_profiles_operator/spo-overview.html">Security Profiles Operator overview</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-release-notes.html">Security Profiles Operator release notes</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-support.html">Security Profiles Operator support</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-understanding.html">Understanding the Security Profiles Operator</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-enabling.html">Enabling the Security Profiles Operator</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-seccomp.html">Managing seccomp profiles</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-selinux.html">Managing SELinux profiles</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-advanced.html">Advanced Security Profiles Operator tasks</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-troubleshooting.html">Troubleshooting the Security Profiles Operator</a></li>
                  <li><a class="" href="../../../security/security_profiles_operator/spo-uninstalling.html">Uninstalling the Security Profiles Operator</a></li>              </ul>
            </li>
            <li><a class="" href="../../../security/audit-log-view.html">Viewing audit logs</a></li>
            <li><a class="" href="../../../security/audit-log-policy-config.html">Configuring the audit log policy</a></li>
            <li><a class="" href="../../../security/tls-security-profiles.html">Configuring TLS security profiles</a></li>
            <li><a class="" href="../../../security/seccomp-profiles.html">Configuring seccomp profiles</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-0-9"><span id="sgSpan-0-9" class="fa fa-caret-right"></span>&nbsp;Network-Bound Disk Encryption (NBDE)</a>
              <ul id="topicSubGroup-0-9" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../../security/network_bound_disk_encryption/nbde-about-disk-encryption-technology.html">About disk encryption technology</a></li>
                  <li><a class="" href="../../../security/network_bound_disk_encryption/nbde-tang-server-installation-considerations.html">Tang server installation considerations</a></li>
                  <li><a class="" href="../../../security/network_bound_disk_encryption/nbde-managing-encryption-keys.html">Tang server encryption key management</a></li>              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Understanding the Custom Resource Definitions
          </h1>
        </div>
        
        
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#custom-resource-definitions-workflow_compliance-crd">CRDs workflow</a></li>
<li><a href="#defining-compliance-scan-requirements_compliance-crd">Defining the compliance scan requirements</a>
<ul class="sectlevel2">
<li><a href="#profile-bundle-object_compliance-crd">ProfileBundle object</a></li>
<li><a href="#profile-object_compliance-crd">Profile object</a></li>
<li><a href="#rule-object_compliance-crd">Rule object</a></li>
<li><a href="#tailored-profile-object_compliance-crd">TailoredProfile object</a></li>
</ul>
</li>
<li><a href="#configure-compliance-scan-settings_compliance-crd">Configuring the compliance scan settings</a>
<ul class="sectlevel2">
<li><a href="#scan-setting-object_compliance-crd">ScanSetting object</a></li>
</ul>
</li>
<li><a href="#process-compliance-requirements-with-compliance-settings_compliance-crd">Processing the compliance scan requirements with compliance scans settings</a>
<ul class="sectlevel2">
<li><a href="#scan-setting-binding-object_compliance-crd">ScanSettingBinding object</a></li>
</ul>
</li>
<li><a href="#track-compliance-scans_compliance-crd">Tracking the compliance scans</a>
<ul class="sectlevel2">
<li><a href="#compliance-suite-object_compliance-crd">ComplianceSuite object</a></li>
<li><a href="#advance-compliance-scan-object_compliance-crd">Advanced ComplianceScan Object</a></li>
</ul>
</li>
<li><a href="#view-compliance-results_compliance-crd">Viewing the compliance results</a>
<ul class="sectlevel2">
<li><a href="#compliance-check-result_compliance-crd">ComplianceCheckResult object</a></li>
<li><a href="#compliance-remediation-object_compliance-crd">ComplianceRemediation object</a></li>
</ul>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Compliance Operator in the Azure Red Hat OpenShift provides you with several Custom Resource Definitions (CRDs) to accomplish the compliance scans. To run a compliance scan, it leverages the predefined security policies, which are derived from the <a href="https://github.com/ComplianceAsCode/content">ComplianceAsCode</a> community project. The Compliance Operator converts these security policies into CRDs, which you can use to run compliance scans and get remediations for the issues found.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom-resource-definitions-workflow_compliance-crd"><a class="anchor" href="#custom-resource-definitions-workflow_compliance-crd"></a>CRDs workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CRD provides you the following workflow to complete the compliance scans:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Define your compliance scan requirements</p>
</li>
<li>
<p>Configure the compliance scan settings</p>
</li>
<li>
<p>Process compliance requirements with compliance scans settings</p>
</li>
<li>
<p>Monitor the compliance scans</p>
</li>
<li>
<p>Check the compliance scan results</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="defining-compliance-scan-requirements_compliance-crd"><a class="anchor" href="#defining-compliance-scan-requirements_compliance-crd"></a>Defining the compliance scan requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the Compliance Operator CRDs include <code>ProfileBundle</code> and <code>Profile</code> objects, in which you can define and set the rules for your compliance scan requirements. You can also customize the default profiles by using a <code>TailoredProfile</code> object.</p>
</div>
<div class="sect2">
<h3 id="profile-bundle-object_compliance-crd"><a class="anchor" href="#profile-bundle-object_compliance-crd"></a>ProfileBundle object</h3>
<div class="paragraph">
<p>When you install the Compliance Operator, it includes ready-to-run <code>ProfileBundle</code> objects. The Compliance Operator parses the <code>ProfileBundle</code> object and creates a <code>Profile</code> object for each profile in the bundle. It also parses <code>Rule</code> and <code>Variable</code> objects, which are used by the <code>Profile</code> object.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>ProfileBundle</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ProfileBundle</span>
  <span class="s">name</span><span class="pi">:</span> <span class="s">&lt;profile bundle name&gt;</span>
  <span class="s">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
<span class="na">status</span><span class="pi">:</span>
  <span class="na">dataStreamStatus</span><span class="pi">:</span> <span class="s">VALID</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Indicates whether the Compliance Operator was able to parse the content files.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the <code>contentFile</code> fails, an <code>errorMessage</code> attribute appears, which provides details of the error that occurred.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Troubleshooting</div>
<p>When you roll back to a known content image from an invalid image, the <code>ProfileBundle</code> object stops responding and displays <code>PENDING</code> state. As a workaround, you can move to a different image than the previous one. Alternatively, you can delete and re-create the <code>ProfileBundle</code> object to return to the working state.</p>
</div>
</div>
<div class="sect2">
<h3 id="profile-object_compliance-crd"><a class="anchor" href="#profile-object_compliance-crd"></a>Profile object</h3>
<div class="paragraph">
<p>The <code>Profile</code> object defines the rules and variables that can be evaluated for a certain compliance standard. It contains parsed out details about an OpenSCAP profile, such as its XCCDF identifier and profile checks for a <code>Node</code> or <code>Platform</code> type. You can either directly use the <code>Profile</code> object or further customize it using a <code>TailorProfile</code> object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You cannot create or modify the <code>Profile</code> object manually because it is derived from a single <code>ProfileBundle</code> object. Typically, a single <code>ProfileBundle</code> object can include several <code>Profile</code> objects.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example <code>Profile</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">description</span><span class="pi">:</span> <span class="s">&lt;description of the profile&gt;</span>
<span class="na">id</span><span class="pi">:</span> <span class="s">xccdf_org.ssgproject.content_profile_moderate</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Profile</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="s">compliance.openshift.io/product</span><span class="pi">:</span> <span class="s">&lt;product name&gt;</span>
    <span class="s">compliance.openshift.io/product-type</span><span class="pi">:</span> <span class="s">Node</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="na">creationTimestamp</span><span class="pi">:</span> <span class="s2">"</span><span class="s">YYYY-MM-DDTMM:HH:SSZ"</span>
  <span class="na">generation</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="s">compliance.openshift.io/profile-bundle</span><span class="pi">:</span> <span class="s">&lt;profile bundle name&gt;</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">rhcos4-moderate</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
  <span class="na">ownerReferences</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
    <span class="na">blockOwnerDeletion</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">controller</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">ProfileBundle</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;profile bundle name&gt;</span>
    <span class="na">uid</span><span class="pi">:</span> <span class="s">&lt;uid string&gt;</span>
  <span class="na">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;version</span><span class="nv"> </span><span class="s">number&gt;"</span>
  <span class="na">selfLink</span><span class="pi">:</span> <span class="s">/apis/compliance.openshift.io/v1alpha1/namespaces/openshift-compliance/profiles/rhcos4-moderate</span>
  <span class="na">uid</span><span class="pi">:</span> <span class="s">&lt;uid string&gt;</span>
<span class="na">rules</span><span class="pi">:</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="pi">-</span> <span class="s">rhcos4-account-disable-post-pw-expiration</span>
<span class="pi">-</span> <span class="s">rhcos4-accounts-no-uid-except-zero</span>
<span class="pi">-</span> <span class="s">rhcos4-audit-rules-dac-modification-chmod</span>
<span class="pi">-</span> <span class="s">rhcos4-audit-rules-dac-modification-chown</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">&lt;title of the profile&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify the XCCDF name of the profile. Use this identifier when you define a <code>ComplianceScan</code> object as the value of the profile attribute of the scan.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify either a <code>Node</code> or <code>Platform</code>. Node profiles scan the cluster nodes and platform profiles scan the Kubernetes platform.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify the list of rules for the profile. Each rule corresponds to a single check.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="rule-object_compliance-crd"><a class="anchor" href="#rule-object_compliance-crd"></a>Rule object</h3>
<div class="paragraph">
<p>The <code>Rule</code> object, which forms the profiles, are also exposed as objects. Use the <code>Rule</code> object to define your compliance check requirements and specify how it could be fixed.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>Rule</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml">    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
    <span class="na">checkType</span><span class="pi">:</span> <span class="s">Platform</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="na">description</span><span class="pi">:</span> <span class="s">&lt;description of the rule&gt;</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">xccdf_org.ssgproject.content_rule_configure_network_policies_namespaces</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="na">instructions</span><span class="pi">:</span> <span class="s">&lt;manual instructions for the scan&gt;</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Rule</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">annotations</span><span class="pi">:</span>
        <span class="s">compliance.openshift.io/rule</span><span class="pi">:</span> <span class="s">configure-network-policies-namespaces</span>
        <span class="s">control.compliance.openshift.io/CIS-OCP</span><span class="pi">:</span> <span class="s">5.3.2</span>
        <span class="s">control.compliance.openshift.io/NERC-CIP</span><span class="pi">:</span> <span class="s">CIP-003-3 R4;CIP-003-3 R4.2;CIP-003-3</span>
          <span class="s">R5;CIP-003-3 R6;CIP-004-3 R2.2.4;CIP-004-3 R3;CIP-007-3 R2;CIP-007-3 R2.1;CIP-007-3</span>
          <span class="s">R2.2;CIP-007-3 R2.3;CIP-007-3 R5.1;CIP-007-3 R6.1</span>
        <span class="s">control.compliance.openshift.io/NIST-800-53</span><span class="pi">:</span> <span class="s">AC-4;AC-4(21);CA-3(5);CM-6;CM-6(1);CM-7;CM-7(1);SC-7;SC-7(3);SC-7(5);SC-7(8);SC-7(12);SC-7(13);SC-7(18)</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="s">compliance.openshift.io/profile-bundle</span><span class="pi">:</span> <span class="s">ocp4</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">ocp4-configure-network-policies-namespaces</span>
      <span class="na">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
    <span class="na">rationale</span><span class="pi">:</span> <span class="s">&lt;description of why this rule is checked&gt;</span>
    <span class="na">severity</span><span class="pi">:</span> <span class="s">high</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="na">title</span><span class="pi">:</span> <span class="s">&lt;summary of the rule&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify the type of check this rule executes. <code>Node</code> profiles scan the cluster nodes and <code>Platform</code> profiles scan the Kubernetes platform. An empty value indicates there is no automated check.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify the XCCDF name of the rule, which is parsed directly from the datastream.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify the severity of the rule when it fails.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>Rule</code> object gets an appropriate label for an easy identification of the associated <code>ProfileBundle</code> object. The <code>ProfileBundle</code> also gets specified in the <code>OwnerReferences</code> of this object.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="tailored-profile-object_compliance-crd"><a class="anchor" href="#tailored-profile-object_compliance-crd"></a>TailoredProfile object</h3>
<div class="paragraph">
<p>Use the <code>TailoredProfile</code> object to modify the default <code>Profile</code> object based on your organization requirements. You can enable or disable rules, set variable values, and provide justification for the customization. After validation, the <code>TailoredProfile</code> object creates a <code>ConfigMap</code>, which can be referenced by a <code>ComplianceScan</code> object.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can use the <code>TailoredProfile</code> object by referencing it in a <code>ScanSettingBinding</code> object. For more information about <code>ScanSettingBinding</code>, see ScanSettingBinding object.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example <code>TailoredProfile</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">TailoredProfile</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">rhcos4-with-usb</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">extends</span><span class="pi">:</span> <span class="s">rhcos4-moderate</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="na">title</span><span class="pi">:</span> <span class="s">&lt;title of the tailored profile&gt;</span>
  <span class="na">disableRules</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;name of a rule object to be disabled&gt;</span>
      <span class="na">rationale</span><span class="pi">:</span> <span class="s">&lt;description of why this rule is checked&gt;</span>
<span class="na">status</span><span class="pi">:</span>
  <span class="na">id</span><span class="pi">:</span> <span class="s">xccdf_compliance.openshift.io_profile_rhcos4-with-usb</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="na">outputRef</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">rhcos4-with-usb-tp</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
  <span class="na">state</span><span class="pi">:</span> <span class="s">READY</span> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is optional. Name of the <code>Profile</code> object upon which the <code>TailoredProfile</code> is built. If no value is set, a new profile is created from the <code>enableRules</code> list.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specifies the XCCDF name of the tailored profile.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specifies the <code>ConfigMap</code> name, which can be used as the value of the <code>tailoringConfigMap.name</code> attribute of a <code>ComplianceScan</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Shows the state of the object such as <code>READY</code>, <code>PENDING</code>, and <code>FAILURE</code>. If the state of the object is <code>ERROR</code>, then the attribute <code>status.errorMessage</code> provides the reason for the failure.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With the <code>TailoredProfile</code> object, it is possible to create a new <code>Profile</code> object using the <code>TailoredProfile</code> construct. To create a new <code>Profile</code>, set the following configuration parameters :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an appropriate title</p>
</li>
<li>
<p><code>extends</code> value must be empty</p>
</li>
<li>
<p>scan type annotation on the <code>TailoredProfile</code> object:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="s">compliance.openshift.io/product-type</span><span class="pi">:</span> <span class="s">Platform/Node</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you have not set the <code>product-type</code> annotation, the Compliance Operator defaults to <code>Platform</code> scan type. Adding the <code>-node</code> suffix to the name of the <code>TailoredProfile</code> object results in <code>node</code> scan type.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configure-compliance-scan-settings_compliance-crd"><a class="anchor" href="#configure-compliance-scan-settings_compliance-crd"></a>Configuring the compliance scan settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you have defined the requirements of the compliance scan, you can configure it by specifying the type of the scan, occurrence of the scan, and location of the scan. To do so, Compliance Operator provides you with a <code>ScanSetting</code> object.</p>
</div>
<div class="sect2">
<h3 id="scan-setting-object_compliance-crd"><a class="anchor" href="#scan-setting-object_compliance-crd"></a>ScanSetting object</h3>
<div class="paragraph">
<p>Use the <code>ScanSetting</code> object to define and reuse the operational policies to run your scans.
By default, the Compliance Operator creates the following <code>ScanSetting</code> objects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>default</strong> - it runs a scan every day at 1 AM on both master and worker nodes using a 1Gi Persistent Volume (PV) and keeps the last three results. Remediation is neither applied nor updated automatically.</p>
</li>
<li>
<p><strong>default-auto-apply</strong> - it runs a scan every day at 1AM on both control plane and worker nodes using a 1Gi Persistent Volume (PV) and keeps the last three results. Both <code>autoApplyRemediations</code> and <code>autoUpdateRemediations</code> are set to true.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example <code>ScanSetting</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">autoApplyRemediations</span><span class="pi">:</span> <span class="no">true</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="na">autoUpdateRemediations</span><span class="pi">:</span> <span class="no">true</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ScanSetting</span>
<span class="na">maxRetryOnTimeout</span><span class="pi">:</span> <span class="m">3</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">creationTimestamp</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2022-10-18T20:21:00Z"</span>
  <span class="na">generation</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">default-auto-apply</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
  <span class="na">resourceVersion</span><span class="pi">:</span> <span class="s2">"</span><span class="s">38840"</span>
  <span class="na">uid</span><span class="pi">:</span> <span class="s">8cb0967d-05e0-4d7a-ac1c-08a7f7e89e84</span>
<span class="na">rawResultStorage</span><span class="pi">:</span>
  <span class="na">nodeSelector</span><span class="pi">:</span>
    <span class="s">node-role.kubernetes.io/master</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
  <span class="na">pvAccessModes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">ReadWriteOnce</span>
  <span class="na">rotation</span><span class="pi">:</span> <span class="s">3</span> <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="na">size</span><span class="pi">:</span> <span class="s">1Gi</span> <i class="conum" data-value="4"></i><b>(4)</b>
  <span class="na">tolerations</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">effect</span><span class="pi">:</span> <span class="s">NoSchedule</span>
    <span class="na">key</span><span class="pi">:</span> <span class="s">node-role.kubernetes.io/master</span>
    <span class="na">operator</span><span class="pi">:</span> <span class="s">Exists</span>
  <span class="pi">-</span> <span class="na">effect</span><span class="pi">:</span> <span class="s">NoExecute</span>
    <span class="na">key</span><span class="pi">:</span> <span class="s">node.kubernetes.io/not-ready</span>
    <span class="na">operator</span><span class="pi">:</span> <span class="s">Exists</span>
    <span class="na">tolerationSeconds</span><span class="pi">:</span> <span class="m">300</span>
  <span class="pi">-</span> <span class="na">effect</span><span class="pi">:</span> <span class="s">NoExecute</span>
    <span class="na">key</span><span class="pi">:</span> <span class="s">node.kubernetes.io/unreachable</span>
    <span class="na">operator</span><span class="pi">:</span> <span class="s">Exists</span>
    <span class="na">tolerationSeconds</span><span class="pi">:</span> <span class="m">300</span>
  <span class="pi">-</span> <span class="na">effect</span><span class="pi">:</span> <span class="s">NoSchedule</span>
    <span class="na">key</span><span class="pi">:</span> <span class="s">node.kubernetes.io/memory-pressure</span>
    <span class="na">operator</span><span class="pi">:</span> <span class="s">Exists</span>
<span class="na">roles</span><span class="pi">:</span> <i class="conum" data-value="6"></i><b>(6)</b>
<span class="pi">-</span> <span class="s">master</span>
<span class="pi">-</span> <span class="s">worker</span>
<span class="na">scanTolerations</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">operator</span><span class="pi">:</span> <span class="s">Exists</span>
<span class="na">schedule</span><span class="pi">:</span> <span class="s">0 1 * * *</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="na">showNotApplicable</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">strictNodeScan</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">timeout</span><span class="pi">:</span> <span class="s">30m</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set to <code>true</code> to enable auto remediations. Set to <code>false</code> to disable auto remediations.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set to <code>true</code> to enable auto remediations for content updates. Set to <code>false</code> to disable auto remediations for content updates.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify the number of stored scans in the raw result format. The default value is <code>3</code>. As the older results get rotated, the administrator must store the results elsewhere before the rotation happens.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Specify the storage size that should be created for the scan to store the raw results. The default value is <code>1Gi</code></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specify how often the scan should be run in cron format.
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To disable the rotation policy, set the value to <code>0</code>.</p>
</div>
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Specify the <code>node-role.kubernetes.io</code> label value to schedule the scan for <code>Node</code> type. This value has to match the name of a <code>MachineConfigPool</code>.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="process-compliance-requirements-with-compliance-settings_compliance-crd"><a class="anchor" href="#process-compliance-requirements-with-compliance-settings_compliance-crd"></a>Processing the compliance scan requirements with compliance scans settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you have defined the compliance scan requirements and configured the settings to run the scans, then the Compliance Operator processes it using the <code>ScanSettingBinding</code> object.</p>
</div>
<div class="sect2">
<h3 id="scan-setting-binding-object_compliance-crd"><a class="anchor" href="#scan-setting-binding-object_compliance-crd"></a>ScanSettingBinding object</h3>
<div class="paragraph">
<p>Use the <code>ScanSettingBinding</code> object to specify your compliance requirements with reference to the <code>Profile</code> or <code>TailoredProfile</code> object. It is then linked to a <code>ScanSetting</code> object, which provides the operational constraints for the scan. Then the Compliance Operator generates the <code>ComplianceSuite</code> object based on the <code>ScanSetting</code> and <code>ScanSettingBinding</code> objects.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>ScanSettingBinding</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ScanSettingBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;name of the scan&gt;</span>
<span class="na">profiles</span><span class="pi">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="c1"># Node checks</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">rhcos4-with-usb</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">TailoredProfile</span>
    <span class="na">apiGroup</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
  <span class="c1"># Cluster checks</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ocp4-moderate</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Profile</span>
    <span class="na">apiGroup</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">settingsRef</span><span class="pi">:</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-companys-constraints</span>
  <span class="na">kind</span><span class="pi">:</span> <span class="s">ScanSetting</span>
  <span class="na">apiGroup</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify the details of <code>Profile</code> or <code>TailoredProfile</code> object to scan your environment.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify the operational constraints, such as schedule and storage size.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The creation of <code>ScanSetting</code> and <code>ScanSettingBinding</code> objects results in the compliance suite. To get the list of compliance suite, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get compliancesuites</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you delete <code>ScanSettingBinding</code>, then compliance suite also is deleted.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="track-compliance-scans_compliance-crd"><a class="anchor" href="#track-compliance-scans_compliance-crd"></a>Tracking the compliance scans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After the creation of compliance suite, you can monitor the status of the deployed scans using the <code>ComplianceSuite</code> object.</p>
</div>
<div class="sect2">
<h3 id="compliance-suite-object_compliance-crd"><a class="anchor" href="#compliance-suite-object_compliance-crd"></a>ComplianceSuite object</h3>
<div class="paragraph">
<p>The <code>ComplianceSuite</code> object helps you keep track of the state of the scans. It contains the raw settings to create scans and the overall result.</p>
</div>
<div class="paragraph">
<p>For <code>Node</code> type scans, you should map the scan to the <code>MachineConfigPool</code>, since it contains the remediations for any issues. If you specify a label, ensure it directly applies to a pool.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>ComplianceSuite</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ComplianceSuite</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;name_of_the_suite&gt;</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">autoApplyRemediations</span><span class="pi">:</span> <span class="no">false</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="na">schedule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*"</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="na">scans</span><span class="pi">:</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">workers-scan</span>
      <span class="na">scanType</span><span class="pi">:</span> <span class="s">Node</span>
      <span class="na">profile</span><span class="pi">:</span> <span class="s">xccdf_org.ssgproject.content_profile_moderate</span>
      <span class="na">content</span><span class="pi">:</span> <span class="s">ssg-rhcos4-ds.xml</span>
      <span class="na">contentImage</span><span class="pi">:</span> <span class="s">registry.redhat.io/compliance/openshift-compliance-content-rhel8@sha256:45dc...</span>
      <span class="na">rule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">xccdf_org.ssgproject.content_rule_no_netrc_files"</span>
      <span class="na">nodeSelector</span><span class="pi">:</span>
        <span class="s">node-role.kubernetes.io/worker</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
<span class="na">status</span><span class="pi">:</span>
  <span class="na">Phase</span><span class="pi">:</span> <span class="s">DONE</span> <i class="conum" data-value="4"></i><b>(4)</b>
  <span class="na">Result</span><span class="pi">:</span> <span class="s">NON-COMPLIANT</span> <i class="conum" data-value="5"></i><b>(5)</b>
  <span class="na">scanStatuses</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">workers-scan</span>
    <span class="na">phase</span><span class="pi">:</span> <span class="s">DONE</span>
    <span class="na">result</span><span class="pi">:</span> <span class="s">NON-COMPLIANT</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set to <code>true</code> to enable auto remediations. Set to <code>false</code> to disable auto remediations.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify how often the scan should be run in cron format.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify a list of scan specifications to run in the cluster.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Indicates the progress of the scans.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Indicates the overall verdict of the suite.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The suite in the background creates the <code>ComplianceScan</code> object based on the <code>scans</code> parameter.
You can programmatically fetch the <code>ComplianceSuites</code> events. To get the events for the suite, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get events <span class="nt">--field-selector</span> involvedObject.kind<span class="o">=</span>ComplianceSuite,involvedObject.name<span class="o">=</span>&lt;name of the suite&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You might create errors when you manually define the <code>ComplianceSuite</code>, since it contains the XCCDF attributes.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="advance-compliance-scan-object_compliance-crd"><a class="anchor" href="#advance-compliance-scan-object_compliance-crd"></a>Advanced ComplianceScan Object</h3>
<div class="paragraph">
<p>The Compliance Operator includes options for advanced users for debugging or integrating with existing tooling. While it is recommended that you not create a <code>ComplianceScan</code> object directly, you can instead manage it using a <code>ComplianceSuite</code> object.</p>
</div>
<div class="listingblock">
<div class="title">Example Advanced <code>ComplianceScan</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ComplianceScan</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">&lt;name_of_the_compliance_scan&gt;</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">scanType</span><span class="pi">:</span> <span class="s">Node</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="na">profile</span><span class="pi">:</span> <span class="s">xccdf_org.ssgproject.content_profile_moderate</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="na">content</span><span class="pi">:</span> <span class="s">ssg-ocp4-ds.xml</span>
  <span class="na">contentImage</span><span class="pi">:</span> <span class="s">registry.redhat.io/compliance/openshift-compliance-content-rhel8@sha256:45dc...</span> <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="na">rule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">xccdf_org.ssgproject.content_rule_no_netrc_files"</span> <i class="conum" data-value="4"></i><b>(4)</b>
  <span class="na">nodeSelector</span><span class="pi">:</span> <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="s">node-role.kubernetes.io/worker</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
<span class="na">status</span><span class="pi">:</span>
  <span class="na">phase</span><span class="pi">:</span> <span class="s">DONE</span> <i class="conum" data-value="6"></i><b>(6)</b>
  <span class="na">result</span><span class="pi">:</span> <span class="s">NON-COMPLIANT</span> <i class="conum" data-value="7"></i><b>(7)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify either <code>Node</code> or <code>Platform</code>. Node profiles scan the cluster nodes and platform profiles scan the Kubernetes platform.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify the XCCDF identifier of the profile that you want to run.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify the container image that encapsulates the profile files.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>It is optional. Specify the scan to run a single rule. This rule has to be identified with the XCCDF ID, and has to belong to the specified profile.
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you skip the <code>rule</code> parameter, then scan runs for all the available rules of the specified profile.</p>
</div>
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>If you are on the Azure Red Hat OpenShift and wants to generate a remediation, then nodeSelector label has to match the <code>MachineConfigPool</code> label.
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you do not specify <code>nodeSelector</code> parameter or match the <code>MachineConfig</code> label, scan will still run, but it will not create remediation.</p>
</div>
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Indicates the current phase of the scan.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Indicates the verdict of the scan.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you delete a <code>ComplianceSuite</code> object, then all the associated scans get deleted.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the scan is complete, it generates the result as Custom Resources of the <code>ComplianceCheckResult</code> object. However, the raw results are available in ARF format. These results are stored in a Persistent Volume (PV), which has a Persistent Volume Claim (PVC) associated with the name of the scan.
You can programmatically fetch the <code>ComplianceScans</code> events. To generate events for the suite, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">oc get events --field-selector involvedObject.kind=ComplianceScan,involvedObject.name=&lt;name_of_the_compliance_scan&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="view-compliance-results_compliance-crd"><a class="anchor" href="#view-compliance-results_compliance-crd"></a>Viewing the compliance results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the compliance suite reaches the <code>DONE</code> phase, you can view the scan results and possible remediations.</p>
</div>
<div class="sect2">
<h3 id="compliance-check-result_compliance-crd"><a class="anchor" href="#compliance-check-result_compliance-crd"></a>ComplianceCheckResult object</h3>
<div class="paragraph">
<p>When you run a scan with a specific profile, several rules in the profiles are verified. For each of these rules, a <code>ComplianceCheckResult</code> object is created, which provides the state of the cluster for a specific rule.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>ComplianceCheckResult</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ComplianceCheckResult</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="s">compliance.openshift.io/check-severity</span><span class="pi">:</span> <span class="s">medium</span>
    <span class="s">compliance.openshift.io/check-status</span><span class="pi">:</span> <span class="s">FAIL</span>
    <span class="s">compliance.openshift.io/suite</span><span class="pi">:</span> <span class="s">example-compliancesuite</span>
    <span class="s">compliance.openshift.io/scan-name</span><span class="pi">:</span> <span class="s">workers-scan</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">workers-scan-no-direct-root-logins</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
  <span class="na">ownerReferences</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
    <span class="na">blockOwnerDeletion</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">controller</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">ComplianceScan</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">workers-scan</span>
<span class="na">description</span><span class="pi">:</span> <span class="s">&lt;description of scan check&gt;</span>
<span class="na">instructions</span><span class="pi">:</span> <span class="s">&lt;manual instructions for the scan&gt;</span>
<span class="na">id</span><span class="pi">:</span> <span class="s">xccdf_org.ssgproject.content_rule_no_direct_root_logins</span>
<span class="na">severity</span><span class="pi">:</span> <span class="s">medium</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="na">status</span><span class="pi">:</span> <span class="s">FAIL</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Describes the severity of the scan check.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Describes the result of the check. The possible values are:
<div class="ulist">
<ul>
<li>
<p>PASS: check was successful.</p>
</li>
<li>
<p>FAIL: check was unsuccessful.</p>
</li>
<li>
<p>INFO: check was successful and found something not severe enough to be considered an error.</p>
</li>
<li>
<p>MANUAL: check cannot automatically assess the status and manual check is required.</p>
</li>
<li>
<p>INCONSISTENT: different nodes report different results.</p>
</li>
<li>
<p>ERROR: check run successfully, but could not complete.</p>
</li>
<li>
<p>NOTAPPLICABLE: check did not run as it is not applicable.</p>
</li>
</ul>
</div></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To get all the check results from a suite, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">oc get compliancecheckresults \
-l compliance.openshift.io/suite=workers-compliancesuite</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="compliance-remediation-object_compliance-crd"><a class="anchor" href="#compliance-remediation-object_compliance-crd"></a>ComplianceRemediation object</h3>
<div class="paragraph">
<p>For a specific check you can have a datastream specified fix. However, if a Kubernetes fix is available, then the Compliance Operator creates a <code>ComplianceRemediation</code> object.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>ComplianceRemediation</code> object</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ComplianceRemediation</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="s">compliance.openshift.io/suite</span><span class="pi">:</span> <span class="s">example-compliancesuite</span>
    <span class="s">compliance.openshift.io/scan-name</span><span class="pi">:</span> <span class="s">workers-scan</span>
    <span class="s">machineconfiguration.openshift.io/role</span><span class="pi">:</span> <span class="s">worker</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">workers-scan-disable-users-coredumps</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">openshift-compliance</span>
  <span class="na">ownerReferences</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">compliance.openshift.io/v1alpha1</span>
    <span class="na">blockOwnerDeletion</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">controller</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">ComplianceCheckResult</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">workers-scan-disable-users-coredumps</span>
    <span class="na">uid</span><span class="pi">:</span> <span class="s">&lt;UID&gt;</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">apply</span><span class="pi">:</span> <span class="no">false</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="na">object</span><span class="pi">:</span>
    <span class="na">current</span><span class="pi">:</span> <i class="conum" data-value="2"></i><b>(2)</b>
       <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">machineconfiguration.openshift.io/v1</span>
       <span class="na">kind</span><span class="pi">:</span> <span class="s">MachineConfig</span>
       <span class="na">spec</span><span class="pi">:</span>
         <span class="na">config</span><span class="pi">:</span>
           <span class="na">ignition</span><span class="pi">:</span>
             <span class="na">version</span><span class="pi">:</span> <span class="s">2.2.0</span>
           <span class="na">storage</span><span class="pi">:</span>
             <span class="na">files</span><span class="pi">:</span>
             <span class="pi">-</span> <span class="na">contents</span><span class="pi">:</span>
                 <span class="na">source</span><span class="pi">:</span> <span class="s">data:,%2A%20%20%20%20%20hard%20%20%20core%20%20%20%200</span>
               <span class="na">filesystem</span><span class="pi">:</span> <span class="s">root</span>
               <span class="na">mode</span><span class="pi">:</span> <span class="m">420</span>
               <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/security/limits.d/75-disable_users_coredumps.conf</span>
    <span class="na">outdated</span><span class="pi">:</span> <span class="pi">{}</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>true</code> indicates the remediation was applied. <code>false</code> indicates the remediation was not applied.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Includes the definition of the remediation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Indicates remediation that was previously parsed from an earlier version of the content. The Compliance Operator still retains the outdated objects to give the administrator a chance to review the new remediations before applying them.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To get all the remediations from a suite, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">oc get complianceremediations \
-l compliance.openshift.io/suite=workers-compliancesuite</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To list all failing checks that can be remediated automatically, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">oc get compliancecheckresults \
-l 'compliance.openshift.io/check-status in (FAIL),compliance.openshift.io/automated-remediation'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To list all failing checks that can be remediated manually, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">oc get compliancecheckresults \
-l 'compliance.openshift.io/check-status in (FAIL),!compliance.openshift.io/automated-remediation'</span></code></pre>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'openshift-aro';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-telco': ['docs_telco', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version],
    'openshift-serverless' : ['docs_serverless', version],
    'openshift-pipelines' : ['docs_pipelines', version],
    'openshift-builds' : ['docs_builds', version],
    'openshift-gitops' : ['docs_gitops', version],
    'openshift-lightspeed' : ['docs_lightspeed', version],
    'openshift-service-mesh' : ['docs_service_mesh', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.net/content/img/Logo-Red_Hat-OpenShift-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright © 2025 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

  <!-- hide footer after 3 seconds -->
  <script type="text/javascript">
    const hideFooter = () => {
      document.querySelector('footer#rh, footer.footer-origin-docs').style.display = "none";
    };

    window.addEventListener('load', function() {
      setTimeout(hideFooter, 3000);
    });
  </script>
</body>
</html>